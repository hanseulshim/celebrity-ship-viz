{"ast":null,"code":"import _objectSpread from\"/Users/hanseulshim/Projects/celebrity-ship-viz/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/hanseulshim/Projects/celebrity-ship-viz/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import colors from'styles/colors';import{hoverInfo}from'./config';var getStatus=function getStatus(point,colorCount,peerGroupFilters){var statusObj={};var even=point.cabinNumber%2===0;if(!peerGroupFilters){statusObj.status=point.bookingStatus==='B'?'BOOKED':point.bookingStatus==='U'?'UNBOOKED':'CANCELLED';statusObj.bookedOccupancy=point.bookedOccupancy?point.bookedOccupancy:'N/A';statusObj.cabinCapacity=point.cabinCapacity?point.cabinCapacity:'N/A';if(point.bookingStatus===null){if(even){statusObj.color=colorCount.lastInvalidEven?colors.shuttleGray:colors.fiord;colorCount.lastInvalidEven=!colorCount.lastInvalidEven;}else{statusObj.color=colorCount.lastInvalidOdd?colors.shuttleGray:colors.fiord;colorCount.lastInvalidOdd=!colorCount.lastInvalidOdd;}}else if(point.bookingStatus==='U'||point.bookingStatus==='C'){if(even){statusObj.color=colorCount.lastUnbookedEven?colors.cabaret:colors.mandy;colorCount.lastUnbookedEven=!colorCount.lastUnbookedEven;}else{statusObj.color=colorCount.lastUnbookedOdd?colors.cabaret:colors.mandy;colorCount.lastUnbookedOdd=!colorCount.lastUnbookedOdd;}}else if(point.bookedOccupancy<point.cabinCapacity){if(even){statusObj.color=colorCount.lastPartEven?colors.keyLimePie:colors.hokeyPokey;colorCount.lastPartEven=!colorCount.lastPartEven;}else{statusObj.color=colorCount.lastPartOdd?colors.keyLimePie:colors.hokeyPokey;colorCount.lastPartOdd=!colorCount.lastPartOdd;}}else{if(even){statusObj.color=colorCount.lastFullEven?colors.silverTree:colors.aquaForest;colorCount.lastFullEven=!colorCount.lastFullEven;}else{statusObj.color=colorCount.lastFullOdd?colors.silverTree:colors.aquaForest;colorCount.lastFullOdd=!colorCount.lastFullOdd;}}}else{statusObj.category=point.category?point.category:'N/A';statusObj.selectedPercent=point.selectedPercent?point.selectedPercent:'N/A';statusObj.peerGroupPercent=point.peerGroupPercent?point.peerGroupPercent:'N/A';statusObj.difference=point.difference?point.difference:'N/A';var colorArray=['#D4F5E9','#BAEEED','#92E1F2','#83DDF4','#66D5F8','#4ACCFB','#35C6F2','#4FC8DE','#68CAC1','#7FCCA6','#98CE88','#B2D06B','#C9D250','#E3D533','#E1C43F','#DEB14A','#DC9F58','#D98D64','#D67B70','#D4697C'].reverse();var difference=parseInt(point.difference)>=20?20:parseInt(point.difference)<=-20?-20:parseInt(point.difference);var offset=20;var tick=offset*2/colorArray.length;var num=Math.round((difference+offset)/tick)-1;var index=num===-1?0:num;statusObj.color=isNaN(index)?colors.shuttleGray:colorArray[index];}return statusObj;};var getPolygonCoordinates=function getPolygonCoordinates(point,length,customdata,colorCount,peerGroupFilters){var _getStatus=getStatus(point,colorCount,peerGroupFilters),color=_getStatus.color,status=_getStatus.status,bookedOccupancy=_getStatus.bookedOccupancy,cabinCapacity=_getStatus.cabinCapacity,category=_getStatus.category,selectedPercent=_getStatus.selectedPercent,peerGroupPercent=_getStatus.peerGroupPercent,difference=_getStatus.difference;var h0=point.plotY0*length;// Starting Height\nvar h1=point.plotY1*length;// Ending Height\n// Vertices of the polygon\nvar v0=point.plotX0+h0;var v1=point.plotX1+h0;var v2=point.plotX0+h1;var v3=point.plotX1+h1;// Set hover info\ncustomdata[v0]={cabinNumber:point.cabinNumber,status:status,bookedOccupancy:bookedOccupancy,cabinCapacity:cabinCapacity,category:category,selectedPercent:selectedPercent,peerGroupPercent:peerGroupPercent,difference:difference};customdata[v1]=customdata[v0];return{i:[v0,v1],j:[v1,v2],k:[v2,v3],facecolor:[color,color]};};export var createDeck=function createDeck(data,deck,selectedDeck,peerGroupFilters){var x=[];var y=[];var z=[];var customdata=[];var length=150;for(var y0=0;y0<length;y0++){for(var x0=0;x0<length;x0++){x.push(x0);y.push(y0);customdata.push({cabinNumber:'',status:'',bookedOccupancy:'',cabinCapacity:'',category:'',selectedPercent:'',peerGroupPercent:'',difference:''});z.push(deck);}}var i=[];var j=[];var k=[];var facecolor=[];var colorCount={lastFullEven:true,lastFullOdd:true,lastPartEven:true,lastPartOdd:true,lastUnbookedEven:true,lastUnbookedOdd:true,lastInvalidEven:true,lastInvalidOdd:true};data.forEach(function(point){var coords=getPolygonCoordinates(point,length,customdata,colorCount,peerGroupFilters);i.push.apply(i,_toConsumableArray(coords.i));j.push.apply(j,_toConsumableArray(coords.j));k.push.apply(k,_toConsumableArray(coords.k));facecolor.push.apply(facecolor,_toConsumableArray(coords.facecolor));});var hover=deck===selectedDeck?hoverInfo(peerGroupFilters):{hoverinfo:'none'};var opacity=deck===selectedDeck?1:0.3;return _objectSpread({x:x,y:y,z:z,i:i,j:j,k:k,opacity:opacity,facecolor:facecolor,customdata:customdata},hover,{flatshading:true,type:'mesh3d'});};","map":{"version":3,"sources":["/Users/hanseulshim/Projects/celebrity-ship-viz/src/components/main/ship-viz/helper.js"],"names":["colors","hoverInfo","getStatus","point","colorCount","peerGroupFilters","statusObj","even","cabinNumber","status","bookingStatus","bookedOccupancy","cabinCapacity","color","lastInvalidEven","shuttleGray","fiord","lastInvalidOdd","lastUnbookedEven","cabaret","mandy","lastUnbookedOdd","lastPartEven","keyLimePie","hokeyPokey","lastPartOdd","lastFullEven","silverTree","aquaForest","lastFullOdd","category","selectedPercent","peerGroupPercent","difference","colorArray","reverse","parseInt","offset","tick","length","num","Math","round","index","isNaN","getPolygonCoordinates","customdata","h0","plotY0","h1","plotY1","v0","plotX0","v1","plotX1","v2","v3","i","j","k","facecolor","createDeck","data","deck","selectedDeck","x","y","z","y0","x0","push","forEach","coords","hover","hoverinfo","opacity","flatshading","type"],"mappings":"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","sourcesContent":["import colors from 'styles/colors'\nimport { hoverInfo } from './config'\n\nconst getStatus = (point, colorCount, peerGroupFilters) => {\n  const statusObj = {}\n  const even = point.cabinNumber % 2 === 0\n\n  if (!peerGroupFilters) {\n    statusObj.status =\n      point.bookingStatus === 'B'\n        ? 'BOOKED'\n        : point.bookingStatus === 'U'\n          ? 'UNBOOKED'\n          : 'CANCELLED'\n    statusObj.bookedOccupancy = point.bookedOccupancy\n      ? point.bookedOccupancy\n      : 'N/A'\n    statusObj.cabinCapacity = point.cabinCapacity ? point.cabinCapacity : 'N/A'\n    if (point.bookingStatus === null) {\n      if (even) {\n        statusObj.color = colorCount.lastInvalidEven\n          ? colors.shuttleGray\n          : colors.fiord\n        colorCount.lastInvalidEven = !colorCount.lastInvalidEven\n      } else {\n        statusObj.color = colorCount.lastInvalidOdd\n          ? colors.shuttleGray\n          : colors.fiord\n        colorCount.lastInvalidOdd = !colorCount.lastInvalidOdd\n      }\n    } else if (point.bookingStatus === 'U' || point.bookingStatus === 'C') {\n      if (even) {\n        statusObj.color = colorCount.lastUnbookedEven\n          ? colors.cabaret\n          : colors.mandy\n        colorCount.lastUnbookedEven = !colorCount.lastUnbookedEven\n      } else {\n        statusObj.color = colorCount.lastUnbookedOdd\n          ? colors.cabaret\n          : colors.mandy\n        colorCount.lastUnbookedOdd = !colorCount.lastUnbookedOdd\n      }\n    } else if (point.bookedOccupancy < point.cabinCapacity) {\n      if (even) {\n        statusObj.color = colorCount.lastPartEven\n          ? colors.keyLimePie\n          : colors.hokeyPokey\n        colorCount.lastPartEven = !colorCount.lastPartEven\n      } else {\n        statusObj.color = colorCount.lastPartOdd\n          ? colors.keyLimePie\n          : colors.hokeyPokey\n        colorCount.lastPartOdd = !colorCount.lastPartOdd\n      }\n    } else {\n      if (even) {\n        statusObj.color = colorCount.lastFullEven\n          ? colors.silverTree\n          : colors.aquaForest\n        colorCount.lastFullEven = !colorCount.lastFullEven\n      } else {\n        statusObj.color = colorCount.lastFullOdd\n          ? colors.silverTree\n          : colors.aquaForest\n        colorCount.lastFullOdd = !colorCount.lastFullOdd\n      }\n    }\n  } else {\n    statusObj.category = point.category ? point.category : 'N/A'\n    statusObj.selectedPercent = point.selectedPercent ? point.selectedPercent : 'N/A'\n    statusObj.peerGroupPercent = point.peerGroupPercent ? point.peerGroupPercent : 'N/A'\n    statusObj.difference = point.difference ? point.difference : 'N/A'\n\n    const colorArray = ['#D4F5E9',\n      '#BAEEED',\n      '#92E1F2',\n      '#83DDF4',\n      '#66D5F8',\n      '#4ACCFB',\n      '#35C6F2',\n      '#4FC8DE',\n      '#68CAC1',\n      '#7FCCA6',\n      '#98CE88',\n      '#B2D06B',\n      '#C9D250',\n      '#E3D533',\n      '#E1C43F',\n      '#DEB14A',\n      '#DC9F58',\n      '#D98D64',\n      '#D67B70',\n      '#D4697C'].reverse()\n\n    const difference = parseInt(point.difference) >= 20 ? 20 : parseInt(point.difference) <= -20 ? -20 : parseInt(point.difference)\n    const offset = 20\n    const tick = offset * 2 / colorArray.length\n    const num = Math.round((difference + offset) / tick) - 1\n    const index = num === -1 ? 0 : num\n    statusObj.color = isNaN(index) ? colors.shuttleGray : colorArray[index]\n  }\n\n  return statusObj\n}\n\nconst getPolygonCoordinates = (\n  point,\n  length,\n  customdata,\n  colorCount,\n  peerGroupFilters\n) => {\n  const {\n    color,\n    status,\n    bookedOccupancy,\n    cabinCapacity,\n    category,\n    selectedPercent,\n    peerGroupPercent,\n    difference\n  } = getStatus(point, colorCount, peerGroupFilters)\n\n  const h0 = point.plotY0 * length // Starting Height\n  const h1 = point.plotY1 * length // Ending Height\n  // Vertices of the polygon\n  const v0 = point.plotX0 + h0\n  const v1 = point.plotX1 + h0\n  const v2 = point.plotX0 + h1\n  const v3 = point.plotX1 + h1\n\n  // Set hover info\n  customdata[v0] = {\n    cabinNumber: point.cabinNumber,\n    status,\n    bookedOccupancy,\n    cabinCapacity,\n    category,\n    selectedPercent,\n    peerGroupPercent,\n    difference\n  }\n  customdata[v1] = customdata[v0]\n\n  return {\n    i: [v0, v1],\n    j: [v1, v2],\n    k: [v2, v3],\n    facecolor: [color, color]\n  }\n}\n\nexport const createDeck = (data, deck, selectedDeck, peerGroupFilters) => {\n  const x = []\n  const y = []\n  const z = []\n  const customdata = []\n  const length = 150\n  for (let y0 = 0; y0 < length; y0++) {\n    for (let x0 = 0; x0 < length; x0++) {\n      x.push(x0)\n      y.push(y0)\n      customdata.push({\n        cabinNumber: '',\n        status: '',\n        bookedOccupancy: '',\n        cabinCapacity: '',\n        category: '',\n        selectedPercent: '',\n        peerGroupPercent: '',\n        difference: ''\n      })\n      z.push(deck)\n    }\n  }\n  const i = []\n  const j = []\n  const k = []\n  const facecolor = []\n  const colorCount = {\n    lastFullEven: true,\n    lastFullOdd: true,\n    lastPartEven: true,\n    lastPartOdd: true,\n    lastUnbookedEven: true,\n    lastUnbookedOdd: true,\n    lastInvalidEven: true,\n    lastInvalidOdd: true\n  }\n  data.forEach(point => {\n    const coords = getPolygonCoordinates(\n      point,\n      length,\n      customdata,\n      colorCount,\n      peerGroupFilters\n    )\n    i.push(...coords.i)\n    j.push(...coords.j)\n    k.push(...coords.k)\n    facecolor.push(...coords.facecolor)\n  })\n\n  const hover =\n    deck === selectedDeck ? hoverInfo(peerGroupFilters) : { hoverinfo: 'none' }\n  const opacity = deck === selectedDeck ? 1 : 0.3\n  return {\n    x,\n    y,\n    z,\n    i,\n    j,\n    k,\n    opacity,\n    facecolor,\n    customdata,\n    ...hover,\n    flatshading: true,\n    type: 'mesh3d'\n  }\n}\n"]},"metadata":{},"sourceType":"module"}