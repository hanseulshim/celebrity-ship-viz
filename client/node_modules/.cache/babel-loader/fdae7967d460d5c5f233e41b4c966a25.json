{"ast":null,"code":"var _jsxFileName = \"/Users/hanseulshim/Projects/celebrity-ship-viz/src/components/main/filters/peer-group-filters/SelectPeerProduct.js\";\nimport React, { useContext } from 'react';\nimport { store } from 'context/store';\nimport { useQuery } from '@apollo/client'; // Project Components\n\nimport FilterSelect from 'components/common/FilterSelect'; // GQL\n\nimport { GET_PEER_GROUP_PRODUCT_LIST } from 'graphql/queries';\nimport Loader from 'components/common/Loader';\nimport Notification from 'components/common/Notification';\n\nconst SelectPeerProduct = () => {\n  const globalState = useContext(store);\n  const state = globalState.state,\n        dispatch = globalState.dispatch;\n  const selectedPeerShip = state.selectedPeerShip,\n        selectedPeerProduct = state.selectedPeerProduct;\n\n  const _useQuery = useQuery(GET_PEER_GROUP_PRODUCT_LIST, {\n    variables: {\n      shipIdList: selectedPeerShip\n    },\n    fetchPolicy: 'network-only'\n  }),\n        loading = _useQuery.loading,\n        error = _useQuery.error,\n        data = _useQuery.data;\n\n  const onChange = id => {\n    const product = data.peerGroupProductList.find(product => product.id === id);\n    dispatch({\n      type: 'setSelectedPeerProduct',\n      value: product\n    });\n  };\n\n  if (loading) return React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  });\n  if (error) return React.createElement(Notification, {\n    type: \"error\",\n    message: error.message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  });\n  return React.createElement(FilterSelect, {\n    label: \"Product(s)\",\n    displayKey: \"rdssProductCode\",\n    options: data.peerGroupProductList,\n    value: selectedPeerProduct.id,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  });\n};\n\nexport default SelectPeerProduct;","map":{"version":3,"sources":["/Users/hanseulshim/Projects/celebrity-ship-viz/src/components/main/filters/peer-group-filters/SelectPeerProduct.js"],"names":["React","useContext","store","useQuery","FilterSelect","GET_PEER_GROUP_PRODUCT_LIST","Loader","Notification","SelectPeerProduct","globalState","state","dispatch","selectedPeerShip","selectedPeerProduct","variables","shipIdList","fetchPolicy","loading","error","data","onChange","id","product","peerGroupProductList","find","type","value","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,QAAT,QAAyB,gBAAzB,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,gCAAzB,C,CAEA;;AACA,SAASC,2BAAT,QAA4C,iBAA5C;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAC9B,QAAMC,WAAW,GAAGR,UAAU,CAACC,KAAD,CAA9B;AAD8B,QAEtBQ,KAFsB,GAEFD,WAFE,CAEtBC,KAFsB;AAAA,QAEfC,QAFe,GAEFF,WAFE,CAEfE,QAFe;AAAA,QAGtBC,gBAHsB,GAGoBF,KAHpB,CAGtBE,gBAHsB;AAAA,QAGJC,mBAHI,GAGoBH,KAHpB,CAGJG,mBAHI;;AAAA,oBAIGV,QAAQ,CAACE,2BAAD,EAA8B;AACrES,IAAAA,SAAS,EAAE;AACTC,MAAAA,UAAU,EAAEH;AADH,KAD0D;AAIrEI,IAAAA,WAAW,EAAE;AAJwD,GAA9B,CAJX;AAAA,QAItBC,OAJsB,aAItBA,OAJsB;AAAA,QAIbC,KAJa,aAIbA,KAJa;AAAA,QAINC,IAJM,aAINA,IAJM;;AAW9B,QAAMC,QAAQ,GAAGC,EAAE,IAAI;AACrB,UAAMC,OAAO,GAAGH,IAAI,CAACI,oBAAL,CAA0BC,IAA1B,CAA+BF,OAAO,IAAIA,OAAO,CAACD,EAAR,KAAeA,EAAzD,CAAhB;AACAV,IAAAA,QAAQ,CAAC;AAAEc,MAAAA,IAAI,EAAE,wBAAR;AAAkCC,MAAAA,KAAK,EAAEJ;AAAzC,KAAD,CAAR;AACD,GAHD;;AAKA,MAAIL,OAAJ,EAAa,OAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACb,MAAIC,KAAJ,EAAW,OAAO,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,OAAnB;AAA2B,IAAA,OAAO,EAAEA,KAAK,CAACS,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACX,SACE,oBAAC,YAAD;AACE,IAAA,KAAK,EAAC,YADR;AAEE,IAAA,UAAU,EAAC,iBAFb;AAGE,IAAA,OAAO,EAAER,IAAI,CAACI,oBAHhB;AAIE,IAAA,KAAK,EAAEV,mBAAmB,CAACQ,EAJ7B;AAKE,IAAA,QAAQ,EAAED,QALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD,CA3BD;;AA6BA,eAAeZ,iBAAf","sourcesContent":["import React, { useContext } from 'react'\nimport { store } from 'context/store'\nimport { useQuery } from '@apollo/client'\n\n// Project Components\nimport FilterSelect from 'components/common/FilterSelect'\n\n// GQL\nimport { GET_PEER_GROUP_PRODUCT_LIST } from 'graphql/queries'\nimport Loader from 'components/common/Loader'\nimport Notification from 'components/common/Notification'\n\nconst SelectPeerProduct = () => {\n  const globalState = useContext(store)\n  const { state, dispatch } = globalState\n  const { selectedPeerShip, selectedPeerProduct } = state\n  const { loading, error, data } = useQuery(GET_PEER_GROUP_PRODUCT_LIST, {\n    variables: {\n      shipIdList: selectedPeerShip\n    },\n    fetchPolicy: 'network-only'\n  })\n\n  const onChange = id => {\n    const product = data.peerGroupProductList.find(product => product.id === id)\n    dispatch({ type: 'setSelectedPeerProduct', value: product })\n  }\n\n  if (loading) return <Loader />\n  if (error) return <Notification type=\"error\" message={error.message} />\n  return (\n    <FilterSelect\n      label=\"Product(s)\"\n      displayKey=\"rdssProductCode\"\n      options={data.peerGroupProductList}\n      value={selectedPeerProduct.id}\n      onChange={onChange}\n    />\n  )\n}\n\nexport default SelectPeerProduct\n"]},"metadata":{},"sourceType":"module"}