{"ast":null,"code":"export const getApi = () => {\n  const REACT_APP_STAGE = process.env.REACT_APP_STAGE;\n  return REACT_APP_STAGE === 'dev' ? 'https://enfqba1qe0.execute-api.us-east-2.amazonaws.com/dev/graphql' : REACT_APP_STAGE === 'alpha' ? 'https://wgn6mdwplf.execute-api.us-east-2.amazonaws.com/alpha/graphql' : REACT_APP_STAGE === 'beta' ? 'https://5rrwqnuc98.execute-api.us-east-2.amazonaws.com/beta/graphql' : REACT_APP_STAGE === 'prod' ? 'https://jfkbhc8dbl.execute-api.us-east-2.amazonaws.com/prod/graphql' : 'http://localhost:4000/graphql';\n};\nexport const getFilterVariables = (shipId, sailingDateId, interval, productId, itineraryId, peerGroupFilters, peerGroupShipIds, peerGroupProductId, peerGroupStartDate, peerGroupEndDate, filter = {}, peerFilter = {}, filterCount = {}) => {\n  const variables = {};\n\n  if (peerGroupFilters) {\n    variables.peerGroupShipIds = peerGroupShipIds;\n    variables.peerGroupProductId = peerGroupProductId;\n    variables.peerGroupStartDate = peerGroupStartDate;\n    variables.peerGroupEndDate = peerGroupEndDate;\n    Object.keys(peerFilter).filter(key => {\n      return peerFilter[key].length !== filterCount[key];\n    }).forEach(key => {\n      const filterKey = key === 'bookedOccupancy' || key === 'bookingType' ? 'value' : 'id';\n      const arr = peerFilter[key].map(v => v[filterKey]);\n      const variableName = key === 'bookedOccupancy' ? 'peerGroupBookedOccupancy' : key === 'bookingType' ? 'peerGroupBookingType' : key === 'cabinCategory' ? 'peerGroupCabinCategory' : key === 'cabinClassRate' ? 'peerGroupCabinClassRate' : key === 'channel' ? 'peerGroupChannel' : key === 'pointOfSaleMarket' ? 'peerGroupPointOfSaleMarket' : key === 'rateCategory' ? 'peerGroupRateCategory' : key === 'cabinCategoryClass' ? 'peerGroupCabinCategoryClass' : '';\n\n      if (key) {\n        variables[variableName] = arr;\n      }\n    });\n  }\n\n  variables.shipId = shipId;\n  variables.sailingDateId = sailingDateId;\n  variables.interval = interval;\n  variables.productId = productId;\n  variables.itineraryId = itineraryId;\n  Object.keys(filter).filter(key => {\n    return filter[key].length !== filterCount[key];\n  }).forEach(key => {\n    const filterKey = key === 'bookedOccupancy' || key === 'bookingType' ? 'value' : 'id';\n    const arr = filter[key].map(v => v[filterKey]);\n    variables[key] = arr;\n  });\n  return variables;\n};","map":{"version":3,"sources":["/Users/hanseulshim/Projects/celebrity-ship-viz/src/helper.js"],"names":["getApi","REACT_APP_STAGE","process","env","getFilterVariables","shipId","sailingDateId","interval","productId","itineraryId","peerGroupFilters","peerGroupShipIds","peerGroupProductId","peerGroupStartDate","peerGroupEndDate","filter","peerFilter","filterCount","variables","Object","keys","key","length","forEach","filterKey","arr","map","v","variableName"],"mappings":"AAAA,OAAO,MAAMA,MAAM,GAAG,MAAM;AAC1B,QAAMC,eAAe,GAAGC,OAAO,CAACC,GAAR,CAAYF,eAApC;AACA,SAAOA,eAAe,KAAK,KAApB,GACH,oEADG,GAEHA,eAAe,KAAK,OAApB,GACE,sEADF,GAEEA,eAAe,KAAK,MAApB,GACE,qEADF,GAEEA,eAAe,KAAK,MAApB,GACE,qEADF,GAEE,+BARV;AASD,CAXM;AAaP,OAAO,MAAMG,kBAAkB,GAAG,CAChCC,MADgC,EAEhCC,aAFgC,EAGhCC,QAHgC,EAIhCC,SAJgC,EAKhCC,WALgC,EAMhCC,gBANgC,EAOhCC,gBAPgC,EAQhCC,kBARgC,EAShCC,kBATgC,EAUhCC,gBAVgC,EAWhCC,MAAM,GAAG,EAXuB,EAYhCC,UAAU,GAAG,EAZmB,EAahCC,WAAW,GAAG,EAbkB,KAc7B;AACH,QAAMC,SAAS,GAAG,EAAlB;;AACA,MAAIR,gBAAJ,EAAsB;AACpBQ,IAAAA,SAAS,CAACP,gBAAV,GAA6BA,gBAA7B;AACAO,IAAAA,SAAS,CAACN,kBAAV,GAA+BA,kBAA/B;AACAM,IAAAA,SAAS,CAACL,kBAAV,GAA+BA,kBAA/B;AACAK,IAAAA,SAAS,CAACJ,gBAAV,GAA6BA,gBAA7B;AAEAK,IAAAA,MAAM,CAACC,IAAP,CAAYJ,UAAZ,EACGD,MADH,CACUM,GAAG,IAAI;AACb,aAAOL,UAAU,CAACK,GAAD,CAAV,CAAgBC,MAAhB,KAA2BL,WAAW,CAACI,GAAD,CAA7C;AACD,KAHH,EAIGE,OAJH,CAIWF,GAAG,IAAI;AACd,YAAMG,SAAS,GACbH,GAAG,KAAK,iBAAR,IAA6BA,GAAG,KAAK,aAArC,GAAqD,OAArD,GAA+D,IADjE;AAEA,YAAMI,GAAG,GAAGT,UAAU,CAACK,GAAD,CAAV,CAAgBK,GAAhB,CAAoBC,CAAC,IAAIA,CAAC,CAACH,SAAD,CAA1B,CAAZ;AACA,YAAMI,YAAY,GAChBP,GAAG,KAAK,iBAAR,GACI,0BADJ,GAEIA,GAAG,KAAK,aAAR,GACE,sBADF,GAEEA,GAAG,KAAK,eAAR,GACE,wBADF,GAEEA,GAAG,KAAK,gBAAR,GACE,yBADF,GAEEA,GAAG,KAAK,SAAR,GACE,kBADF,GAEEA,GAAG,KAAK,mBAAR,GACE,4BADF,GAEEA,GAAG,KAAK,cAAR,GACE,uBADF,GAEEA,GAAG,KAAK,oBAAR,GACE,6BADF,GACkC,EAhBpD;;AAkBA,UAAIA,GAAJ,EAAS;AACPH,QAAAA,SAAS,CAACU,YAAD,CAAT,GAA0BH,GAA1B;AACD;AACF,KA7BH;AA8BD;;AAEDP,EAAAA,SAAS,CAACb,MAAV,GAAmBA,MAAnB;AACAa,EAAAA,SAAS,CAACZ,aAAV,GAA0BA,aAA1B;AACAY,EAAAA,SAAS,CAACX,QAAV,GAAqBA,QAArB;AACAW,EAAAA,SAAS,CAACV,SAAV,GAAsBA,SAAtB;AACAU,EAAAA,SAAS,CAACT,WAAV,GAAwBA,WAAxB;AAEAU,EAAAA,MAAM,CAACC,IAAP,CAAYL,MAAZ,EACGA,MADH,CACUM,GAAG,IAAI;AACb,WAAON,MAAM,CAACM,GAAD,CAAN,CAAYC,MAAZ,KAAuBL,WAAW,CAACI,GAAD,CAAzC;AACD,GAHH,EAIGE,OAJH,CAIWF,GAAG,IAAI;AACd,UAAMG,SAAS,GACbH,GAAG,KAAK,iBAAR,IAA6BA,GAAG,KAAK,aAArC,GAAqD,OAArD,GAA+D,IADjE;AAEA,UAAMI,GAAG,GAAGV,MAAM,CAACM,GAAD,CAAN,CAAYK,GAAZ,CAAgBC,CAAC,IAAIA,CAAC,CAACH,SAAD,CAAtB,CAAZ;AACAN,IAAAA,SAAS,CAACG,GAAD,CAAT,GAAiBI,GAAjB;AACD,GATH;AAWA,SAAOP,SAAP;AACD,CAxEM","sourcesContent":["export const getApi = () => {\n  const REACT_APP_STAGE = process.env.REACT_APP_STAGE\n  return REACT_APP_STAGE === 'dev'\n    ? 'https://enfqba1qe0.execute-api.us-east-2.amazonaws.com/dev/graphql'\n    : REACT_APP_STAGE === 'alpha'\n      ? 'https://wgn6mdwplf.execute-api.us-east-2.amazonaws.com/alpha/graphql'\n      : REACT_APP_STAGE === 'beta'\n        ? 'https://5rrwqnuc98.execute-api.us-east-2.amazonaws.com/beta/graphql'\n        : REACT_APP_STAGE === 'prod'\n          ? 'https://jfkbhc8dbl.execute-api.us-east-2.amazonaws.com/prod/graphql'\n          : 'http://localhost:4000/graphql'\n}\n\nexport const getFilterVariables = (\n  shipId,\n  sailingDateId,\n  interval,\n  productId,\n  itineraryId,\n  peerGroupFilters,\n  peerGroupShipIds,\n  peerGroupProductId,\n  peerGroupStartDate,\n  peerGroupEndDate,\n  filter = {},\n  peerFilter = {},\n  filterCount = {}\n) => {\n  const variables = {}\n  if (peerGroupFilters) {\n    variables.peerGroupShipIds = peerGroupShipIds\n    variables.peerGroupProductId = peerGroupProductId\n    variables.peerGroupStartDate = peerGroupStartDate\n    variables.peerGroupEndDate = peerGroupEndDate\n\n    Object.keys(peerFilter)\n      .filter(key => {\n        return peerFilter[key].length !== filterCount[key]\n      })\n      .forEach(key => {\n        const filterKey =\n          key === 'bookedOccupancy' || key === 'bookingType' ? 'value' : 'id'\n        const arr = peerFilter[key].map(v => v[filterKey])\n        const variableName =\n          key === 'bookedOccupancy'\n            ? 'peerGroupBookedOccupancy'\n            : key === 'bookingType'\n              ? 'peerGroupBookingType'\n              : key === 'cabinCategory'\n                ? 'peerGroupCabinCategory'\n                : key === 'cabinClassRate'\n                  ? 'peerGroupCabinClassRate'\n                  : key === 'channel'\n                    ? 'peerGroupChannel'\n                    : key === 'pointOfSaleMarket'\n                      ? 'peerGroupPointOfSaleMarket'\n                      : key === 'rateCategory'\n                        ? 'peerGroupRateCategory'\n                        : key === 'cabinCategoryClass'\n                          ? 'peerGroupCabinCategoryClass' : ''\n\n        if (key) {\n          variables[variableName] = arr\n        }\n      })\n  }\n\n  variables.shipId = shipId\n  variables.sailingDateId = sailingDateId\n  variables.interval = interval\n  variables.productId = productId\n  variables.itineraryId = itineraryId\n\n  Object.keys(filter)\n    .filter(key => {\n      return filter[key].length !== filterCount[key]\n    })\n    .forEach(key => {\n      const filterKey =\n        key === 'bookedOccupancy' || key === 'bookingType' ? 'value' : 'id'\n      const arr = filter[key].map(v => v[filterKey])\n      variables[key] = arr\n    })\n\n  return variables\n}\n"]},"metadata":{},"sourceType":"module"}