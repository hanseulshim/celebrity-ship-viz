{"ast":null,"code":"import React,{useContext}from'react';import{store}from'context/store';import{useQuery}from'@apollo/client';// Project Components\nimport FilterSelectGroup from'components/common/FilterSelectGroup';import Notification from'components/common/Notification';import Loader from'components/common/Loader';// GQL\nimport{GET_SHIP_LIST}from'graphql/queries';var SelectShip=function SelectShip(){var globalState=useContext(store);var state=globalState.state,dispatch=globalState.dispatch;var selectedShip=state.selectedShip;var _useQuery=useQuery(GET_SHIP_LIST),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;var onChange=function onChange(id){var ship=data.shipList.find(function(ship){return ship.id===id;});dispatch({type:'setSelectedShip',value:ship});};if(loading)return React.createElement(Loader,null);if(error)return React.createElement(Notification,{type:\"error\",message:error.message});return React.createElement(FilterSelectGroup,{label:\"Ship\",displayKey:\"shipName\",grouping:\"className\",options:data.shipList,value:selectedShip.id,onChange:onChange});};export default SelectShip;","map":{"version":3,"sources":["/Users/hanseulshim/Projects/celebrity-ship-viz/src/components/main/filters/main-filters/SelectShip.js"],"names":["React","useContext","store","useQuery","FilterSelectGroup","Notification","Loader","GET_SHIP_LIST","SelectShip","globalState","state","dispatch","selectedShip","loading","error","data","onChange","id","ship","shipList","find","type","value","message"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,QAAT,KAAyB,gBAAzB,CAEA;AACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA;AACA,OAASC,aAAT,KAA8B,iBAA9B,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMC,CAAAA,WAAW,CAAGR,UAAU,CAACC,KAAD,CAA9B,CADuB,GAEfQ,CAAAA,KAFe,CAEKD,WAFL,CAEfC,KAFe,CAERC,QAFQ,CAEKF,WAFL,CAERE,QAFQ,IAGfC,CAAAA,YAHe,CAGEF,KAHF,CAGfE,YAHe,eAKUT,QAAQ,CAACI,aAAD,CALlB,CAKfM,OALe,WAKfA,OALe,CAKNC,KALM,WAKNA,KALM,CAKCC,IALD,WAKCA,IALD,CAOvB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,EAAE,CAAI,CACrB,GAAMC,CAAAA,IAAI,CAAGH,IAAI,CAACI,QAAL,CAAcC,IAAd,CAAmB,SAAAF,IAAI,QAAIA,CAAAA,IAAI,CAACD,EAAL,GAAYA,EAAhB,EAAvB,CAAb,CACAN,QAAQ,CAAC,CAAEU,IAAI,CAAE,iBAAR,CAA2BC,KAAK,CAAEJ,IAAlC,CAAD,CAAR,CACD,CAHD,CAKA,GAAIL,OAAJ,CAAa,MAAO,qBAAC,MAAD,MAAP,CACb,GAAIC,KAAJ,CAAW,MAAO,qBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,OAAO,CAAEA,KAAK,CAACS,OAA1C,EAAP,CACX,MACE,qBAAC,iBAAD,EACE,KAAK,CAAC,MADR,CAEE,UAAU,CAAC,UAFb,CAGE,QAAQ,CAAC,WAHX,CAIE,OAAO,CAAER,IAAI,CAACI,QAJhB,CAKE,KAAK,CAAEP,YAAY,CAACK,EALtB,CAME,QAAQ,CAAED,QANZ,EADF,CAUD,CAxBD,CA0BA,cAAeR,CAAAA,UAAf","sourcesContent":["import React, { useContext } from 'react'\nimport { store } from 'context/store'\nimport { useQuery } from '@apollo/client'\n\n// Project Components\nimport FilterSelectGroup from 'components/common/FilterSelectGroup'\nimport Notification from 'components/common/Notification'\nimport Loader from 'components/common/Loader'\n\n// GQL\nimport { GET_SHIP_LIST } from 'graphql/queries'\n\nconst SelectShip = () => {\n  const globalState = useContext(store)\n  const { state, dispatch } = globalState\n  const { selectedShip } = state\n\n  const { loading, error, data } = useQuery(GET_SHIP_LIST)\n\n  const onChange = id => {\n    const ship = data.shipList.find(ship => ship.id === id)\n    dispatch({ type: 'setSelectedShip', value: ship })\n  }\n\n  if (loading) return <Loader />\n  if (error) return <Notification type=\"error\" message={error.message} />\n  return (\n    <FilterSelectGroup\n      label=\"Ship\"\n      displayKey=\"shipName\"\n      grouping=\"className\"\n      options={data.shipList}\n      value={selectedShip.id}\n      onChange={onChange}\n    />\n  )\n}\n\nexport default SelectShip\n"]},"metadata":{},"sourceType":"module"}