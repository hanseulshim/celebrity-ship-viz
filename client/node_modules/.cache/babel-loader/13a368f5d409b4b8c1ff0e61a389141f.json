{"ast":null,"code":"import React,{useContext}from'react';import{store}from'context/store';import{useQuery}from'@apollo/client';// Project Components\nimport FilterSelect from'components/common/FilterSelect';// GQL\nimport{GET_PRODUCT_LIST}from'graphql/queries';import Loader from'components/common/Loader';import Notification from'components/common/Notification';var SelectProduct=function SelectProduct(){var globalState=useContext(store);var state=globalState.state,dispatch=globalState.dispatch;var selectedShip=state.selectedShip,selectedProduct=state.selectedProduct;var _useQuery=useQuery(GET_PRODUCT_LIST,{variables:{shipId:selectedShip.id},fetchPolicy:'network-only'}),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;var onChange=function onChange(id){var product=data.productList.find(function(product){return product.id===id;});dispatch({type:'setSelectedProduct',value:product});};if(loading)return React.createElement(Loader,null);if(error)return React.createElement(Notification,{type:\"error\",message:error.message});return React.createElement(FilterSelect,{label:\"Product\",displayKey:\"rdssProductCode\",options:data.productList,value:selectedProduct.id,onChange:onChange});};export default SelectProduct;","map":{"version":3,"sources":["/Users/hanseulshim/Projects/celebrity-ship-viz/src/components/main/filters/main-filters/SelectProduct.js"],"names":["React","useContext","store","useQuery","FilterSelect","GET_PRODUCT_LIST","Loader","Notification","SelectProduct","globalState","state","dispatch","selectedShip","selectedProduct","variables","shipId","id","fetchPolicy","loading","error","data","onChange","product","productList","find","type","value","message"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,QAAT,KAAyB,gBAAzB,CAEA;AACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CAEA;AACA,OAASC,gBAAT,KAAiC,iBAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAMC,CAAAA,WAAW,CAAGR,UAAU,CAACC,KAAD,CAA9B,CAD0B,GAElBQ,CAAAA,KAFkB,CAEED,WAFF,CAElBC,KAFkB,CAEXC,QAFW,CAEEF,WAFF,CAEXE,QAFW,IAGlBC,CAAAA,YAHkB,CAGgBF,KAHhB,CAGlBE,YAHkB,CAGJC,eAHI,CAGgBH,KAHhB,CAGJG,eAHI,eAIOV,QAAQ,CAACE,gBAAD,CAAmB,CAC1DS,SAAS,CAAE,CACTC,MAAM,CAAEH,YAAY,CAACI,EADZ,CAD+C,CAI1DC,WAAW,CAAE,cAJ6C,CAAnB,CAJf,CAIlBC,OAJkB,WAIlBA,OAJkB,CAITC,KAJS,WAITA,KAJS,CAIFC,IAJE,WAIFA,IAJE,CAW1B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAL,EAAE,CAAI,CACrB,GAAMM,CAAAA,OAAO,CAAGF,IAAI,CAACG,WAAL,CAAiBC,IAAjB,CAAsB,SAAAF,OAAO,QAAIA,CAAAA,OAAO,CAACN,EAAR,GAAeA,EAAnB,EAA7B,CAAhB,CACAL,QAAQ,CAAC,CAAEc,IAAI,CAAE,oBAAR,CAA8BC,KAAK,CAAEJ,OAArC,CAAD,CAAR,CACD,CAHD,CAKA,GAAIJ,OAAJ,CAAa,MAAO,qBAAC,MAAD,MAAP,CACb,GAAIC,KAAJ,CAAW,MAAO,qBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,OAAO,CAAEA,KAAK,CAACQ,OAA1C,EAAP,CACX,MACE,qBAAC,YAAD,EACE,KAAK,CAAC,SADR,CAEE,UAAU,CAAC,iBAFb,CAGE,OAAO,CAAEP,IAAI,CAACG,WAHhB,CAIE,KAAK,CAAEV,eAAe,CAACG,EAJzB,CAKE,QAAQ,CAAEK,QALZ,EADF,CASD,CA3BD,CA6BA,cAAeb,CAAAA,aAAf","sourcesContent":["import React, { useContext } from 'react'\nimport { store } from 'context/store'\nimport { useQuery } from '@apollo/client'\n\n// Project Components\nimport FilterSelect from 'components/common/FilterSelect'\n\n// GQL\nimport { GET_PRODUCT_LIST } from 'graphql/queries'\nimport Loader from 'components/common/Loader'\nimport Notification from 'components/common/Notification'\n\nconst SelectProduct = () => {\n  const globalState = useContext(store)\n  const { state, dispatch } = globalState\n  const { selectedShip, selectedProduct } = state\n  const { loading, error, data } = useQuery(GET_PRODUCT_LIST, {\n    variables: {\n      shipId: selectedShip.id\n    },\n    fetchPolicy: 'network-only'\n  })\n\n  const onChange = id => {\n    const product = data.productList.find(product => product.id === id)\n    dispatch({ type: 'setSelectedProduct', value: product })\n  }\n\n  if (loading) return <Loader />\n  if (error) return <Notification type=\"error\" message={error.message} />\n  return (\n    <FilterSelect\n      label=\"Product\"\n      displayKey=\"rdssProductCode\"\n      options={data.productList}\n      value={selectedProduct.id}\n      onChange={onChange}\n    />\n  )\n}\n\nexport default SelectProduct\n"]},"metadata":{},"sourceType":"module"}