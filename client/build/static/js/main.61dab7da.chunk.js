(this["webpackJsonpcelebrity-ship-viz"]=this["webpackJsonpcelebrity-ship-viz"]||[]).push([[0],{170:function(e,t,n){e.exports=n.p+"static/media/starry_night_sky.8628dd39.png"},173:function(e,t,n){e.exports=n.p+"static/media/logo.ed0a4ba7.png"},181:function(e,t,n){e.exports=n.p+"static/media/peer-legend.6136f156.png"},183:function(e,t,n){e.exports=n.p+"static/media/supplyBurndownBlurry.69a0529a.png"},184:function(e,t,n){e.exports=n.p+"static/media/categoryClassBlurry.35906fa7.png"},185:function(e,t,n){e.exports=n.p+"static/media/decksBlurry.43cb86a2.png"},199:function(e,t,n){e.exports=n(359)},359:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(7),o=n.n(i),c=n(19),l=n(6),u={white:"#ffffff",black:"#000000",black50:"rgba(0, 0, 0, 0.5)",black0:"rgba(0, 0, 0, 0)",biscay:"#183157",lochmara:"#0088dd",jungleMist:"#bad0db",silverTree:"#63c086",aquaForest:"#5aaf7b",keyLimePie:"#d0c32a",hokeyPokey:"#bcb226",cabaret:"#d34362",mandy:"#e84b6c",dusk:"#4a627f",babyBlue:"#9dcbff",shuttleGray:"#586475",fiord:"#425268",cornflowerBlue:"#02132b"},s=n(4),d=n(170),p=n.n(d);function f(){var e=Object(s.a)(["\n  html,\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background: url(",") no-repeat center center fixed;\n     -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n    font-weight: 700;\n    font-size: 12px;\n    line-height: 20px;\n    @media (max-width : 1336px){\n      font-size: 10px;\n      line-height: 17px;\n    }\n  }\n  a {\n    text-decoration: none;\n    color: initial;\n  }\n\n  button {\n    border:none;\n  }\n  .ant-select-search--inline .ant-select-search__field {\n    color: white;\n  }\n\n  .ant-select, .ant-select-enabled {\n    border: 1px solid ",";\n    border-radius:1px;\n  }\n  \n\n"]);return f=function(){return e},e}var b=Object(l.b)(f(),p.a,u.biscay),m=(n(207),n(93)),y=n(125),h=n(87),g=n(26),v={peerGroupFilters:!1,selectedShip:{},selectedProduct:{},selectedItinerary:{},selectedSailDate:{},selectedPeerShip:[],selectedPeerProduct:{},selectedPeerSailingDates:[],filter:{channel:[],bookingType:[],pointOfSaleMarket:[],cabinCategoryClass:[],cabinCategory:[],cabinClassRate:[],rateCategory:[],bookedOccupancy:[]},peerFilter:{channel:[],bookingType:[],pointOfSaleMarket:[],cabinCategory:[],cabinClassRate:[],rateCategory:[],bookedOccupancy:[]},filterCount:{channel:0,bookingType:0,pointOfSaleMarket:0,cabinCategoryClass:0,cabinCategory:0,cabinClassRate:0,rateCategory:0,bookedOccupancy:0},selectedBookingWeek:null,selectedDeck:null,shipData:{}},k=Object(r.createContext)(v),O=k.Provider,j=function(e){var t=e.children,n=Object(r.useReducer)((function(e,t){switch(t.type){case"togglePeerGroupFilters":return Object(g.a)({},e,{peerGroupFilters:!e.peerGroupFilters});case"setSelectedShip":return Object(g.a)({},e,{selectedShip:t.value,selectedProduct:v.selectedProduct,selectedItinerary:v.selectedItinerary,selectedSailDate:v.selectedSailDate});case"setSelectedProduct":return Object(g.a)({},e,{selectedProduct:t.value,selectedItinerary:v.selectedItinerary,selectedSailDate:v.selectedSailDate});case"setSelectedItinerary":return Object(g.a)({},e,{selectedItinerary:t.value,selectedSailDate:v.selectedSailDate});case"setSelectedSailDate":return Object(g.a)({},e,{selectedSailDate:t.value});case"setSelectedPeerShip":return Object(g.a)({},e,{selectedPeerShip:t.value});case"setSelectedPeerProduct":return Object(g.a)({},e,{selectedPeerProduct:t.value});case"setSelectedPeerSailingDates":return Object(g.a)({},e,{selectedPeerSailingDates:t.value});case"setSelectedSubFilter":return Object(g.a)({},e,{filter:Object(g.a)({},e.filter,Object(h.a)({},t.title,t.value))});case"setSelectedPeerSubFilter":return Object(g.a)({},e,{peerFilter:Object(g.a)({},e.peerFilter,Object(h.a)({},t.title,t.value))});case"setSelectedSubFilterCount":return Object(g.a)({},e,{filterCount:Object(g.a)({},e.filterCount,Object(h.a)({},t.title,t.value))});case"setSelectedBookingWeek":return Object(g.a)({},e,{selectedBookingWeek:t.value});case"setSelectedDeck":return Object(g.a)({},e,{selectedDeck:t.value});case"setShipData":return Object(g.a)({},e,{shipData:t.value});default:throw new Error}}),v),i=Object(c.a)(n,2),o=i[0],l=i[1];return a.a.createElement(O,{value:{state:o,dispatch:l}},t)},C=n(363),x=n(365),E=n(33),S=n.n(E);function I(){var e=Object(s.a)(["\n  {\n    snapshotIntervalList {\n      id\n      interval\n      intervalLabel\n      weekMinimum\n    }\n  }\n"]);return I=function(){return e},e}function w(){var e=Object(s.a)(["\n  {\n    filter {\n      channel {\n        id\n        value\n      }\n      bookingType {\n        id\n        value\n      }\n      pointOfSaleMarket {\n        id\n        value\n      }\n      cabinCategoryClass {\n        id\n        value\n      }\n      cabinCategory {\n        id\n        value\n      }\n      cabinClassRate {\n        id\n        value\n      }\n      rateCategory {\n        id\n        value\n      }\n      bookedOccupancy {\n        id\n        value\n      }\n    }\n  }\n"]);return w=function(){return e},e}function P(){var e=Object(s.a)(["\n  query sailingDateList($shipId: Int, $productId: Int, $itineraryId: Int) {\n    sailingDateList(\n      shipId: $shipId\n      productId: $productId\n      itineraryId: $itineraryId\n    ) {\n      id\n      sailingDate\n    }\n  }\n"]);return P=function(){return e},e}function D(){var e=Object(s.a)(["\n  query itineraryList($shipId: Int, $productId: Int) {\n    itineraryList(shipId: $shipId, productId: $productId) {\n      id\n      itineraryDesc\n    }\n  }\n"]);return D=function(){return e},e}function $(){var e=Object(s.a)(["\n  query peerGroupProductList($shipIdList: [Int]) {\n    peerGroupProductList(shipIdList: $shipIdList) {\n      id\n      rdssProductCode\n    }\n  }\n"]);return $=function(){return e},e}function G(){var e=Object(s.a)(["\n  query productList($shipId: Int) {\n    productList(shipId: $shipId) {\n      id\n      rdssProductCode\n    }\n  }\n"]);return G=function(){return e},e}function B(){var e=Object(s.a)(["\n  {\n    shipList {\n      id\n      shipName\n      shipCode\n      classId\n      className\n    }\n  }\n"]);return B=function(){return e},e}var F=S()(B()),z=S()(G()),L=S()($()),M=S()(D()),A=S()(P()),R=S()(w()),_=S()(I());function N(){var e=Object(s.a)(["\n  {\n    firstSailDate {\n      ship {\n        id\n        shipName\n        shipCode\n        classId\n        className\n      }\n      sailingDate {\n        id\n        sailingDate\n      }\n      interval\n    }\n  }\n"]);return N=function(){return e},e}function T(){var e=Object(s.a)(["\n  query deckVisualList(\n    $shipId: Int\n    $sailingDateId: Int\n    $productId: Int\n    $itineraryId: Int\n    $interval: Int\n    $bookedOccupancy: [String]\n    $bookingType: [String]\n    $cabinCategory: [Int]\n    $cabinCategoryClass: [Int]\n    $cabinClassRate: [Int]\n    $channel: [Int]\n    $pointOfSaleMarket: [Int]\n    $rateCategory: [Int]\n    $peerGroupShipIds: [Int]\n    $peerGroupProductId: Int\n    $peerGroupStartDate: String\n    $peerGroupEndDate: String\n    $peerGroupBookedOccupancy: [String]\n    $peerGroupBookingType: [String]\n    $peerGroupCabinCategory: [Int]\n    $peerGroupCabinClassRate: [Int]\n    $peerGroupChannel: [Int]\n    $peerGroupPointOfSaleMarket: [Int]\n    $peerGroupRateCategory: [Int]\n  ) {\n    deckVisualList(\n      shipId: $shipId\n      sailingDateId: $sailingDateId\n      productId: $productId\n      itineraryId: $itineraryId\n      interval: $interval\n      bookedOccupancy: $bookedOccupancy\n      bookingType: $bookingType\n      cabinCategory: $cabinCategory\n      cabinCategoryClass: $cabinCategoryClass\n      cabinClassRate: $cabinClassRate\n      channel: $channel\n      pointOfSaleMarket: $pointOfSaleMarket\n      rateCategory: $rateCategory\n      peerGroupShipIds: $peerGroupShipIds\n      peerGroupProductId: $peerGroupProductId\n      peerGroupStartDate: $peerGroupStartDate\n      peerGroupEndDate: $peerGroupEndDate\n      peerGroupBookedOccupancy: $peerGroupBookedOccupancy\n      peerGroupBookingType: $peerGroupBookingType\n      peerGroupCabinCategory: $peerGroupCabinCategory\n      peerGroupCabinClassRate: $peerGroupCabinClassRate\n      peerGroupChannel: $peerGroupChannel\n      peerGroupPointOfSaleMarket: $peerGroupPointOfSaleMarket\n      peerGroupRateCategory: $peerGroupRateCategory\n    )\n  }\n"]);return T=function(){return e},e}var K=S()(T()),U=S()(N());function W(){var e=Object(s.a)(["\n  query deckList($shipId: Int) {\n    deckList(shipId: $shipId)\n  }\n"]);return W=function(){return e},e}var q=S()(W());function V(){var e=Object(s.a)(["\n  query deckChart($shipId: Int!, $sailingDateId: Int!, $interval: Int!) {\n    deckChart(\n      shipId: $shipId\n      sailingDateId: $sailingDateId\n      interval: $interval\n    ) {\n      bookedX\n      availableX\n      y\n    }\n  }\n"]);return V=function(){return e},e}function X(){var e=Object(s.a)(["\n  query cabinCategoryClassChart(\n    $shipId: Int!\n    $sailingDateId: Int!\n    $interval: Int!\n  ) {\n    cabinCategoryClassChart(\n      shipId: $shipId\n      sailingDateId: $sailingDateId\n      interval: $interval\n    ) {\n      bookedX\n      availableX\n      y\n    }\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(s.a)(["\n  query supplyBurndownChart(\n    $shipId: Int!\n    $sailingDateId: Int!\n    $productId: Int\n    $itineraryId: Int\n    $bookedOccupancy: [String]\n    $bookingType: [String]\n    $cabinCategory: [Int]\n    $cabinCategoryClass: [Int]\n    $cabinClassRate: [Int]\n    $channel: [Int]\n    $pointOfSaleMarket: [Int]\n    $rateCategory: [Int]\n    $peerGroupShipIds: [Int]\n    $peerGroupProductId: Int\n    $peerGroupStartDate: String\n    $peerGroupEndDate: String\n    $peerGroupBookedOccupancy: [String]\n    $peerGroupBookingType: [String]\n    $peerGroupCabinCategory: [Int]\n    $peerGroupCabinCategoryClass: [Int]\n    $peerGroupCabinClassRate: [Int]\n    $peerGroupChannel: [Int]\n    $peerGroupPointOfSaleMarket: [Int]\n    $peerGroupRateCategory: [Int]\n    ) {\n    supplyBurndownChart(\n      shipId: $shipId\n      sailingDateId: $sailingDateId\n      productId: $productId\n      itineraryId: $itineraryId\n      bookedOccupancy: $bookedOccupancy\n      bookingType: $bookingType\n      cabinCategory: $cabinCategory\n      cabinCategoryClass: $cabinCategoryClass\n      cabinClassRate: $cabinClassRate\n      channel: $channel\n      pointOfSaleMarket: $pointOfSaleMarket\n      rateCategory: $rateCategory\n      peerGroupShipIds: $peerGroupShipIds\n      peerGroupProductId: $peerGroupProductId\n      peerGroupStartDate: $peerGroupStartDate\n      peerGroupEndDate: $peerGroupEndDate\n      peerGroupBookedOccupancy: $peerGroupBookedOccupancy\n      peerGroupBookingType: $peerGroupBookingType\n      peerGroupCabinCategory: $peerGroupCabinCategory\n      peerGroupCabinCategoryClass: $peerGroupCabinCategoryClass\n      peerGroupCabinClassRate: $peerGroupCabinClassRate\n      peerGroupChannel: $peerGroupChannel\n      peerGroupPointOfSaleMarket: $peerGroupPointOfSaleMarket\n      peerGroupRateCategory: $peerGroupRateCategory\n    ) {\n      selected {\n        x\n        y\n      }\n      all {\n        x\n        y\n      }\n      peerGroup {\n        x\n        y\n      }\n    }\n  }\n"]);return Y=function(){return e},e}var H=S()(Y()),J=S()(X()),Z=S()(V()),Q=n(173),ee=n.n(Q);function te(){var e=Object(s.a)(["\n  width: 150px;\n"]);return te=function(){return e},e}function ne(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  background-color: ",";\n  padding: 1em;\n  color: ",";\n  padding: 1em 0em;\n"]);return ne=function(){return e},e}var re=l.c.div(ne(),(function(e){return e.theme.black50}),(function(e){return e.theme.white})),ae=l.c.img(te()),ie=function(){return a.a.createElement(re,null,a.a.createElement(ae,{src:ee.a}))},oe=n(54),ce=n(373),le=n(17),ue=n.n(le),se=n(376),de=n(370),pe=n(377),fe=n(375);function be(){var e=Object(s.a)(["\n  .ant-modal-content,\n  .ant-modal-header,\n  .ant-modal-footer {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  .ant-modal-header {\n    border-bottom: none;\n  }\n\n  .ant-modal-header .ant-modal-title {\n    color: ",";\n    font-size: 1.5em;\n  }\n\n  .ant-modal-close {\n    color: ",";\n  }\n\n  .ant-modal-body {\n    > button {\n      display: inline-block;\n      margin-right: 10px;\n      margin-bottom: 5px;\n    }\n  }\n\n  .ant-modal-footer {\n    border-top: none;\n\n    > div {\n      display: flex;\n      justify-content: space-between;\n    }\n    .ant-btn,\n    .ant-btn-primary {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n      padding: 0.5em 1em;\n      font-weight: 700;\n      font-size: 1rem;\n      border-radius: 2px;\n      cursor: pointer;\n      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 0 2px 0 rgba(0, 0, 0, 0.12);\n      min-width: 100px;\n      border: none;\n    }\n  }\n"]);return be=function(){return e},e}function me(){var e=Object(s.a)([""]);return me=function(){return e},e}function ye(){var e=Object(s.a)(["\n  max-height: 300px;\n  overflow: scroll;\n  /* background-color: "," !important;\n  .ant-dropdown-menu {\n    background-color: "," !important;\n  } */\n"]);return ye=function(){return e},e}function he(){var e=Object(s.a)(["\n  /* > ul {\n    background-color: ",";\n  } */\n"]);return he=function(){return e},e}function ge(){var e=Object(s.a)(["\n  .ant-select,\n  .ant-select-enabled {\n    border: 1px solid ",";\n  }\n  .ant-select-selection {\n    background-color: ",";\n    border: 1px ",";\n    font-size: ",";\n  }\n\n  .ant-select-selection--multiple .ant-select-selection__choice {\n    background-color: ",";\n    color: ",";\n    border: none;\n  }\n\n  .ant-select-arrow {\n    color: ",";\n  }\n\n  .ant-select-selection-selected-value {\n    color: ",";\n  }\n\n  .ant-select-disabled,\n  .ant-select-selection {\n    background-color: "," !important;\n  }\n"]);return ge=function(){return e},e}var ve=Object(l.c)(ce.a)(ge(),(function(e){return e.theme.babyBlue}),(function(e){return e.theme.black50}),(function(e){return e.theme.biscay}),(function(e){return e.timeline?"1.25rem":"1rem"}),(function(e){return e.theme.dusk}),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.black50})),ke=Object(l.c)(se.a)(he(),(function(e){return e.theme.black50})),Oe=Object(l.c)(de.a)(ye(),(function(e){return e.theme.black50}),(function(e){return e.theme.black50})),je=Object(l.c)(pe.a)(me()),Ce=Object(l.c)(fe.a)(be(),(function(e){return e.theme.cornflowerBlue}),(function(e){return e.theme.dusk}),(function(e){return e.theme.jungleMist}),(function(e){return e.theme.jungleMist}));function xe(){var e=Object(s.a)(["\n  margin-right: 1em;\n"]);return xe=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ee=function(){return e},e}var Se=ce.a.Option,Ie=l.c.div(Ee()),we=l.c.span(xe()),Pe=function(e){var t=e.label,n=e.options,r=e.value,i=e.onChange,o=e.displayKey,c=e.width,l=Object(oe.a)(e,["label","options","value","onChange","displayKey","width"]);return a.a.createElement(Ie,null,a.a.createElement(we,null,t),a.a.createElement(ve,{style:{width:c||150},value:r,showSearch:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:function(e){return i(e)},mode:l.mode,disabled:l.disabled},n&&n.map((function(e,t){return"sailingDate"===o?a.a.createElement(Se,{value:e.id,key:"option"+t},ue.a.utc(e[o]).format("MM-DD-YYYY")):a.a.createElement(Se,{value:e.id,key:"option"+t},e[o])}))))},De=n(361);function $e(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n"]);return $e=function(){return e},e}var Ge=l.c.div($e()),Be=function(){return a.a.createElement(Ge,null,a.a.createElement(De.a,null))},Fe=n(362),ze=function(e){var t=e.message,n=e.type;return a.a.createElement(Fe.a,{type:n,message:t})},Le=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedShip,o=t.selectedProduct,c=Object(C.a)(z,{variables:{shipId:i.id},fetchPolicy:"network-only"}),l=c.loading,u=c.error,s=c.data;return l?a.a.createElement(Be,null):u?a.a.createElement(ze,{type:"error",message:u.message}):a.a.createElement(Pe,{label:"Product",displayKey:"rdssProductCode",options:s.productList,value:o.id,onChange:function(e){var t=s.productList.find((function(t){return t.id===e}));n({type:"setSelectedProduct",value:t})}})},Me=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedShip,o=t.selectedProduct,c=t.selectedItinerary,l=Object(C.a)(M,{variables:{shipId:i.id,productId:o.id},fetchPolicy:"network-only"}),u=l.loading,s=l.error,d=l.data;return u?a.a.createElement(Be,null):s?a.a.createElement(ze,{type:"error",message:s.message}):a.a.createElement(Pe,{label:"Itinerary",displayKey:"itineraryDesc",options:d.itineraryList,value:c.id,onChange:function(e){var t=d.itineraryList.find((function(t){return t.id===e}));n({type:"setSelectedItinerary",value:t})},width:250,disabled:!o.id})},Ae=n(30);function Re(){var e=Object(s.a)(["\n  margin-right: 1em;\n"]);return Re=function(){return e},e}function _e(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return _e=function(){return e},e}var Ne=ce.a.Option,Te=ce.a.OptGroup,Ke=l.c.div(_e()),Ue=l.c.span(Re()),We=function(e){var t=e.label,n=e.options,r=e.value,i=e.onChange,o=e.displayKey,c=e.grouping,l=e.width,u=Object(oe.a)(e,["label","options","value","onChange","displayKey","grouping","width"]),s=Object(Ae.a)(new Set(n.map((function(e){return e[c]}))));return a.a.createElement(Ke,null,a.a.createElement(Ue,null,t),a.a.createElement(ve,{style:{width:l||150},value:r,onChange:function(e){return i(e)},mode:u.mode},s.map((function(e,t){return a.a.createElement(Te,{label:e,key:e+t},n.filter((function(t){return t[c]===e})).map((function(e,t){return a.a.createElement(Ne,{value:e.id,key:"option"+t},e[o])})))}))))},qe=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedShip,o=Object(C.a)(F),c=o.loading,l=o.error,u=o.data;return c?a.a.createElement(Be,null):l?a.a.createElement(ze,{type:"error",message:l.message}):a.a.createElement(We,{label:"Ship",displayKey:"shipName",grouping:"className",options:u.shipList,value:i.id,onChange:function(e){var t=u.shipList.find((function(t){return t.id===e}));n({type:"setSelectedShip",value:t})}})},Ve=n(364);function Xe(){var e=Object(s.a)([""]);return Xe=function(){return e},e}function Ye(){var e=Object(s.a)(["\n  margin-right: 1em;\n"]);return Ye=function(){return e},e}function He(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return He=function(){return e},e}var Je=l.c.div(He()),Ze=l.c.span(Ye()),Qe=Object(l.c)(Ve.a)(Xe()),et=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.peerGroupFilters;return a.a.createElement(Je,null,a.a.createElement(Ze,null,"Peer Comparison"),a.a.createElement(Qe,{checked:i,onChange:function(){n({type:"togglePeerGroupFilters"})}}))},tt=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedShip,o=t.selectedProduct,c=t.selectedItinerary,l=t.selectedSailDate,u=Object(C.a)(A,{variables:{shipId:i.id,productId:o.id,itineraryId:c.id},fetchPolicy:"network-only"}),s=u.loading,d=u.error,p=u.data;return s?a.a.createElement(Be,null):d?a.a.createElement(ze,{type:"error",message:d.message}):a.a.createElement(Pe,{label:"Sail Date",displayKey:"sailingDate",options:p.sailingDateList,value:l.id,onChange:function(e){var t=p.sailingDateList.find((function(t){return t.id===e}));n({type:"setSelectedSailDate",value:t})}})};function nt(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 0.5em 1em;\n  font-weight: 700;\n  font-size: 1rem;\n  border-radius: 2px;\n  cursor: pointer;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 0 2px 0 rgba(0, 0, 0, 0.12);\n  min-width: 100px;\n  border: none;\n"]);return nt=function(){return e},e}var rt=l.c.button(nt()),at=function(e){var t=e.children,n=Object(oe.a)(e,["children"]);return a.a.createElement(rt,n,t)},it=n(179);function ot(){var e=Object(s.a)(["\n  margin: 0px 5px;\n"]);return ot=function(){return e},e}var ct=Object(l.c)(it.a)(ot()),lt=function(e){var t=e.icon;return a.a.createElement(ct,{icon:t})};function ut(){var e=Object(s.a)(["\n  background-color: #80cbc4;\n  margin-left: auto;\n  color: ",";\n  padding: 0.5em 2em;\n  border-radius: 3px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return ut=function(){return e},e}var st=l.c.button(ut(),(function(e){return e.theme.black})),dt=function(){var e=Object(r.useContext)(k).state.shipData,t=Object(r.useState)([]),n=Object(c.a)(t,2),i=n[0],o=n[1];Object(r.useEffect)((function(){var t=Object.keys(e).map((function(t){return e[t]})).flat(),n=0!==t.length&&Object.prototype.hasOwnProperty.call(t[0],"category"),r=t.map((function(e){var t={deck:e.deck,cabinNumber:e.cabinNumber,bookingStatus:e.bookingStatus,cabinCapacity:e.cabinCapacity,bookedOccupancy:e.bookedOccupancy};return n&&(t.category=e.category,t.selectedPercent=e.selectedPercent,t.peerGroupPercent=e.peerGroupPercent,t.difference=e.difference),t}));o(r)}),[e]);return i.length?a.a.createElement(st,{onClick:function(){return function(){var e=[],t=Object.keys(i[0]);e.push(t.map((function(e){return'"'.concat((""+e).replace(/"/g,'\\"'),'"')})).join(","));var n=!0,r=!1,a=void 0;try{for(var o,c=function(){var n=o.value;e.push(t.map((function(e){return'"'.concat((""+n[e]).replace(/"/g,'\\"'),'"')})).join(","))},l=i[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)c()}catch(f){r=!0,a=f}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}var u=e.join("\n"),s=new Blob([u],{type:"text/csv"}),d=window.URL.createObjectURL(s),p=document.createElement("a");p.setAttribute("hidden",""),p.setAttribute("href",d),p.setAttribute("download","shipData.csv"),document.body.appendChild(p),p.click(),document.body.removeChild(p)}()}},a.a.createElement(lt,{icon:"download"}),"Download CSV"):null},pt=function(e,t,n,r,a,i,o,c,l,u){var s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:{},d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{},p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},f={};return i&&(f.peerGroupShipIds=o,f.peerGroupProductId=c,f.peerGroupStartDate=l,f.peerGroupEndDate=u,Object.keys(d).filter((function(e){return d[e].length!==p[e]})).forEach((function(e){var t="bookedOccupancy"===e||"bookingType"===e?"value":"id",n=d[e].map((function(e){return e[t]}));e&&(f["bookedOccupancy"===e?"peerGroupBookedOccupancy":"bookingType"===e?"peerGroupBookingType":"cabinCategory"===e?"peerGroupCabinCategory":"cabinClassRate"===e?"peerGroupCabinClassRate":"channel"===e?"peerGroupChannel":"pointOfSaleMarket"===e?"peerGroupPointOfSaleMarket":"rateCategory"===e?"peerGroupRateCategory":"cabinCategoryClass"===e?"peerGroupCabinCategoryClass":""]=n)}))),f.shipId=e,f.sailingDateId=t,f.interval=n,f.productId=r,f.itineraryId=a,Object.keys(s).filter((function(e){return s[e].length!==p[e]})).forEach((function(e){var t="bookedOccupancy"===e||"bookingType"===e?"value":"id",n=s[e].map((function(e){return e[t]}));f[e]=n})),f};function ft(){var e=Object(s.a)(["\n  cursor: ",";\n  background-color: ",";\n  color: ",";\n"]);return ft=function(){return e},e}function bt(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  background-color: rgb(0, 0, 0, 0);\n  color: ",";\n  padding: 1em 0em;\n  > div {\n    margin-right: 2em;\n  }\n"]);return bt=function(){return e},e}var mt=l.c.div(bt(),(function(e){return e.theme.jungleMist})),yt=Object(l.c)(at)(ft(),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.theme.lochmara}),(function(e){return e.theme.white})),ht=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedShip,o=t.selectedProduct,l=t.selectedItinerary,u=t.selectedSailDate,s=t.selectedBookingWeek,d=t.peerGroupFilters,p=t.selectedPeerShip,f=t.selectedPeerProduct,b=t.selectedPeerSailingDates,m=t.filter,y=t.peerFilter,h=t.filterCount,g=Object(x.a)(K,{onCompleted:function(e){n({type:"setShipData",value:e.deckVisualList})},fetchPolicy:"network-only"}),v=Object(c.a)(g,1)[0];return a.a.createElement(mt,null,a.a.createElement(et,null),a.a.createElement(qe,null),a.a.createElement(Le,null),a.a.createElement(Me,null),a.a.createElement(tt,null),a.a.createElement(yt,{primary:!0,disabled:!(i&&o&&l&&u),onClick:function(){return v({variables:pt(i.id,u.id,s,o.id,l.id,d,p,f.id,b[0],b[1],m,y,h)})}},"Apply"),a.a.createElement(dt,null))},gt=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedPeerShip,o=Object(C.a)(F,{fetchPolicy:"network-only"}),c=o.loading,l=o.error,u=o.data;return c?a.a.createElement(Be,null):l?a.a.createElement(ze,{type:"error",message:l.message}):a.a.createElement(Pe,{label:"Ship(s)",mode:"multiple",displayKey:"shipName",options:u.shipList,value:i,width:300,onChange:function(e){n({type:"setSelectedPeerShip",value:e})}})},vt=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedPeerShip,o=t.selectedPeerProduct,c=Object(C.a)(L,{variables:{shipIdList:i},fetchPolicy:"network-only"}),l=c.loading,u=c.error,s=c.data;return l?a.a.createElement(Be,null):u?a.a.createElement(ze,{type:"error",message:u.message}):a.a.createElement(Pe,{label:"Product(s)",displayKey:"rdssProductCode",options:s.peerGroupProductList,value:o.id,onChange:function(e){var t=s.peerGroupProductList.find((function(t){return t.id===e}));n({type:"setSelectedPeerProduct",value:t})}})};function kt(){var e=Object(s.a)(["\n  .ant-input {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n  .ant-calendar-range-picker-separator {\n    color: ",";\n  }\n\n  .ant-calendar-picker-icon {\n    color: ",";\n  }\n\n  .ant-calendar-picker-clear {\n    color: ",";\n  }\n"]);return kt=function(){return e},e}var Ot=n(368).a.RangePicker,jt=Object(l.c)(Ot)(kt(),(function(e){return e.theme.black50}),(function(e){return e.theme.white}),(function(e){return e.theme.biscay}),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.white})),Ct=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedPeerSailingDates;return a.a.createElement(jt,{format:"YYYY/MM/DD",onChange:function(e,t){e.length?n({type:"setSelectedPeerSailingDates",value:t}):n({type:"setSelectedPeerSailingDates",value:[]})},value:i.length?[ue()(i[0]),ue()(i[1])]:[]})};function xt(){var e=Object(s.a)([""]);return xt=function(){return e},e}function Et(){var e=Object(s.a)(["\n  max-height: 300px;\n  overflow: scroll;\n"]);return Et=function(){return e},e}function St(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.25em 0.25em;\n  font-weight: 500;\n  font-size: 0.75rem;\n  border-radius: 2px;\n  cursor: pointer;\n  min-width: 50px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 0 2px 0 rgba(0, 0, 0, 0.12);\n"]);return St=function(){return e},e}function It(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.5em 1em;\n  font-weight: 500;\n  font-size: 1rem;\n  border-radius: 2px;\n  cursor: pointer;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 0 2px 0 rgba(0, 0, 0, 0.12);\n"]);return It=function(){return e},e}var wt=l.c.button(It(),(function(e){return e.theme.white}),(function(e){return e.theme.biscay})),Pt=l.c.button(St(),(function(e){return e.theme.white}),(function(e){return e.theme.biscay})),Dt=Object(l.c)(de.a)(Et()),$t=Object(l.c)(pe.a)(xt()),Gt=function(e){var t=e.options,n=e.title,i=e.displayKey,o=(Object(oe.a)(e,["options","title","displayKey"]),Object(r.useState)(!1)),l=Object(c.a)(o,2),u=l[0],s=l[1],d=Object(r.useContext)(k),p=d.state,f=d.dispatch,b=p.selectedShip,m=p.selectedProduct,y=p.selectedItinerary,h=p.selectedSailDate,v=p.selectedBookingWeek,O=p.peerGroupFilters,j=p.selectedPeerShip,C=p.selectedPeerProduct,E=p.selectedPeerSailingDates,S=p.filter,I=p.peerFilter,w=p.filterCount,P=Object(x.a)(K,{onCompleted:function(e){f({type:"setShipData",value:e.deckVisualList})},fetchPolicy:"network-only"}),D=Object(c.a)(P,1)[0],$=Object(r.useState)(I[n]),G=Object(c.a)($,2),B=G[0],F=G[1];Object(r.useEffect)((function(){F(I[n])}),[I,n]);var z=a.a.createElement(Dt,{onClick:function(e){if("save"===e.key){f({type:"setSelectedPeerSubFilter",title:n,value:B});var t=Object(g.a)({},I);s(!1),t[n]=B,D({variables:pt(b.id,h.id,v,m.id,y.id,O,j,C.id,E[0],E[1],S,t,w)})}}},t.map((function(e,t){return a.a.createElement(de.a.Item,{key:"option"+t},a.a.createElement($t,{onChange:function(){return function(e){var t=e.id,n=e.value,r=B.find((function(e){return e.id===t}));F(r?B.filter((function(e){return e.id!==t})):[].concat(Object(Ae.a)(B),[{id:t,value:n}]))}(e)},checked:!!B.find((function(t){return t.id===e.id}))},e[i]))})),a.a.createElement(de.a.Item,{key:"save"},a.a.createElement(Pt,null,"Apply")));return a.a.createElement(se.a,{overlay:z,onVisibleChange:function(e){s(e),e||F(I[n])},visible:u},a.a.createElement(wt,null,function(e){var t=e.replace(/([a-z](?=[A-Z]))/g,"$1 ");return t.charAt(0).toUpperCase()+t.slice(1)}(n)))};function Bt(){var e=Object(s.a)(["\n  background-color: ",";\n  color: ",";\n"]);return Bt=function(){return e},e}var Ft=Object(l.c)(at)(Bt(),(function(e){return e.theme.babyBlue}),(function(e){return e.theme.black})),zt=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.peerFilter,o=t.filterCount,l=Object(C.a)(R,{fetchPolicy:"network-only",onCompleted:function(e){Object.keys(e.filter).filter((function(e){return"__typename"!==e&&"cabinCategoryClass"!==e})).forEach((function(t){var r=e.filter[t].map((function(e){return{id:e.id,value:e.value}}));n({type:"setSelectedPeerSubFilter",title:t,value:r}),n({type:"setSelectedSubFilterCount",title:t,value:r.length})}))}}),u=l.loading,s=l.error,d=l.data,p=Object(r.useState)(!1),f=Object(c.a)(p,2),b=f[0],m=f[1];return u?a.a.createElement(Be,null):s?a.a.createElement(ze,{type:"error",message:s.message}):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ft,{onClick:function(){m(!0)}},Object.keys(i).filter((function(e){return i[e].length!==o[e]})).length," ","Filters ",a.a.createElement(lt,{icon:"edit"})),a.a.createElement(Ce,{title:"Peer Group Filters",visible:b,onOk:function(){m(!1)},onCancel:function(){m(!1)},okText:"Apply",footer:null},Object.keys(d.filter).filter((function(e){return"__typename"!==e&&"cabinCategoryClass"!==e})).map((function(e,t){var n=d.filter[e];return a.a.createElement(Gt,{options:n,title:e,key:e+t,displayKey:"value"})}))))};function Lt(){var e=Object(s.a)(["\n  color: ",";\n  font-size: 1.5em;\n"]);return Lt=function(){return e},e}function Mt(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  padding: 1em 0em 0em 2em;\n  > div,\n  .ant-calendar-picker {\n    margin-right: 2em;\n  }\n"]);return Mt=function(){return e},e}var At=l.c.div(Mt(),(function(e){return e.theme.jungleMist})),Rt=l.c.div(Lt(),(function(e){return e.theme.jungleMist})),_t=function(){return a.a.createElement(At,null,a.a.createElement(Rt,null,"Peer Group"),a.a.createElement(gt,null),a.a.createElement(vt,null),a.a.createElement(Ct,null),a.a.createElement(zt,null))};function Nt(){var e=Object(s.a)(["\n  background-color: rgb(0, 0, 0, 0);\n  padding: 2em 2em;\n  font-size: 1rem;\n"]);return Nt=function(){return e},e}var Tt=l.c.div(Nt()),Kt=function(){var e=Object(r.useContext)(k).state.peerGroupFilters;return a.a.createElement(Tt,null,a.a.createElement(ht,null),e&&a.a.createElement(_t,null))};function Ut(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.25em 0.25em;\n  font-weight: 500;\n  font-size: 0.75rem;\n  border-radius: 2px;\n  cursor: pointer;\n  min-width: 50px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 0 2px 0 rgba(0, 0, 0, 0.12);\n"]);return Ut=function(){return e},e}function Wt(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.5em 1em;\n  font-weight: 500;\n  font-size: 1rem;\n  border-radius: 2px;\n  cursor: pointer;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24), 0 0 2px 0 rgba(0, 0, 0, 0.12);\n"]);return Wt=function(){return e},e}var qt=l.c.button(Wt(),(function(e){return e.theme.jungleMist}),(function(e){return e.theme.biscay})),Vt=l.c.button(Ut(),(function(e){return e.theme.white}),(function(e){return e.theme.biscay})),Xt=function(e){var t=e.options,n=e.title,i=e.displayKey,o=(Object(oe.a)(e,["options","title","displayKey"]),Object(r.useState)(!1)),l=Object(c.a)(o,2),u=l[0],s=l[1],d=Object(r.useContext)(k),p=d.state,f=d.dispatch,b=p.selectedShip,m=p.selectedProduct,y=p.selectedItinerary,h=p.selectedSailDate,v=p.selectedBookingWeek,O=p.peerGroupFilters,j=p.selectedPeerShip,C=p.selectedPeerProduct,E=p.selectedPeerSailingDates,S=p.filter,I=p.peerFilter,w=p.filterCount,P=Object(x.a)(K,{onCompleted:function(e){f({type:"setShipData",value:e.deckVisualList})},fetchPolicy:"network-only"}),D=Object(c.a)(P,1)[0],$=Object(r.useState)(S[n]),G=Object(c.a)($,2),B=G[0],F=G[1];Object(r.useEffect)((function(){F(S[n])}),[S,n]);var z=a.a.createElement(Oe,{onClick:function(e){if("save"===e.key){f({type:"setSelectedSubFilter",title:n,value:B});var t=Object(g.a)({},S);s(!1),t[n]=B,D({variables:pt(b.id,h.id,v,m.id,y.id,O,j,C.id,E[0],E[1],t,I,w)})}}},t.map((function(e,t){return a.a.createElement(Oe.Item,{key:"option"+t},a.a.createElement(je,{onChange:function(){return function(e){var t=e.id,n=e.value,r=B.find((function(e){return e.id===t}));F(r?B.filter((function(e){return e.id!==t})):[].concat(Object(Ae.a)(B),[{id:t,value:n}]))}(e)},checked:!!B.find((function(t){return t.id===e.id}))},e[i]))})),a.a.createElement(Oe.Item,{key:"save"},a.a.createElement(Vt,null,"Apply")));return a.a.createElement(ke,{overlay:z,onVisibleChange:function(e){s(e),e||F(S[n])},visible:u},a.a.createElement(qt,null,function(e){var t=e.replace(/([a-z](?=[A-Z]))/g,"$1 ");return t.charAt(0).toUpperCase()+t.slice(1)}(n)))};function Yt(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n\n  > button {\n    margin-left: 1em;\n  }\n"]);return Yt=function(){return e},e}var Ht=l.c.div(Yt()),Jt=function(){var e=Object(r.useContext)(k).dispatch,t=Object(C.a)(R,{fetchPolicy:"network-only",onCompleted:function(t){Object.keys(t.filter).filter((function(e){return"__typename"!==e})).forEach((function(n){var r=t.filter[n].map((function(e){return{id:e.id,value:e.value}}));e({type:"setSelectedSubFilter",title:n,value:r}),e({type:"setSelectedSubFilterCount",title:n,value:r.length})}))}}),n=t.loading,i=t.error,o=t.data;return n?a.a.createElement(Be,null):i?a.a.createElement(ze,{type:"error",message:i.message}):a.a.createElement(Ht,null,Object.keys(o.filter).filter((function(e){return"__typename"!==e})).map((function(e,t){var n=o.filter[e];return a.a.createElement(Xt,{options:n,title:e,key:e+t,displayKey:"value"})})))},Zt=n(67),Qt=n.n(Zt),en={margin:{l:0,r:0,t:0,b:0,pad:0},scene:{xaxis:{title:"",showgrid:!1,zeroline:!1,showticklabels:!1,showspikes:!1},yaxis:{title:"",showgrid:!1,zeroline:!1,showticklabels:!1,showspikes:!1},zaxis:{title:"",showgrid:!1,zeroline:!1,showline:!1,showticklabels:!1,showspikes:!1},aspectmode:"manual",aspectratio:{x:.5,y:1,z:.3},camera:{center:{x:0,y:0,z:0},eye:{x:.35,y:.35,z:.2}}},paper_bgcolor:u.black0,plot_bgcolor:u.black0},tn=function(e,t,n,r,a){var i=function(e,t,n){var r={},a=e.cabinNumber%2===0;if(n){r.category=e.category?e.category:"N/A",r.selectedPercent=e.selectedPercent?e.selectedPercent:"N/A",r.peerGroupPercent=e.peerGroupPercent?e.peerGroupPercent:"N/A",r.difference=e.difference?e.difference:"N/A";var i=["#D4F5E9","#BAEEED","#92E1F2","#83DDF4","#66D5F8","#4ACCFB","#35C6F2","#4FC8DE","#68CAC1","#7FCCA6","#98CE88","#B2D06B","#C9D250","#E3D533","#E1C43F","#DEB14A","#DC9F58","#D98D64","#D67B70","#D4697C"].reverse(),o=parseInt(e.difference)>=20?20:parseInt(e.difference)<=-20?-20:parseInt(e.difference),c=40/i.length,l=Math.round((o+20)/c)-1,s=-1===l?0:l;r.color=isNaN(s)?u.shuttleGray:i[s]}else r.status="B"===e.bookingStatus?"BOOKED":"U"===e.bookingStatus?"UNBOOKED":"CANCELLED",r.bookedOccupancy=e.bookedOccupancy?e.bookedOccupancy:"N/A",r.cabinCapacity=e.cabinCapacity?e.cabinCapacity:"N/A",null===e.bookingStatus?a?(r.color=t.lastInvalidEven?u.shuttleGray:u.fiord,t.lastInvalidEven=!t.lastInvalidEven):(r.color=t.lastInvalidOdd?u.shuttleGray:u.fiord,t.lastInvalidOdd=!t.lastInvalidOdd):"U"===e.bookingStatus||"C"===e.bookingStatus?a?(r.color=t.lastUnbookedEven?u.cabaret:u.mandy,t.lastUnbookedEven=!t.lastUnbookedEven):(r.color=t.lastUnbookedOdd?u.cabaret:u.mandy,t.lastUnbookedOdd=!t.lastUnbookedOdd):e.bookedOccupancy<e.cabinCapacity?a?(r.color=t.lastPartEven?u.keyLimePie:u.hokeyPokey,t.lastPartEven=!t.lastPartEven):(r.color=t.lastPartOdd?u.keyLimePie:u.hokeyPokey,t.lastPartOdd=!t.lastPartOdd):a?(r.color=t.lastFullEven?u.silverTree:u.aquaForest,t.lastFullEven=!t.lastFullEven):(r.color=t.lastFullOdd?u.silverTree:u.aquaForest,t.lastFullOdd=!t.lastFullOdd);return r}(e,r,a),o=i.color,c=i.status,l=i.bookedOccupancy,s=i.cabinCapacity,d=i.category,p=i.selectedPercent,f=i.peerGroupPercent,b=i.difference,m=e.plotY0*t,y=e.plotY1*t,h=e.plotX0+m,g=e.plotX1+m,v=e.plotX0+y,k=e.plotX1+y;return n[h]={cabinNumber:e.cabinNumber,status:c,bookedOccupancy:l,cabinCapacity:s,category:d,selectedPercent:p,peerGroupPercent:f,difference:b},n[g]=n[h],{i:[h,g],j:[g,v],k:[v,k],facecolor:[o,o]}},nn=function(e,t,n,r){for(var a=[],i=[],o=[],c=[],l=0;l<150;l++)for(var s=0;s<150;s++)a.push(s),i.push(l),c.push({cabinNumber:"",status:"",bookedOccupancy:"",cabinCapacity:"",category:"",selectedPercent:"",peerGroupPercent:"",difference:""}),o.push(t);var d=[],p=[],f=[],b=[],m={lastFullEven:!0,lastFullOdd:!0,lastPartEven:!0,lastPartOdd:!0,lastUnbookedEven:!0,lastUnbookedOdd:!0,lastInvalidEven:!0,lastInvalidOdd:!0};e.forEach((function(e){var t=tn(e,150,c,m,r);d.push.apply(d,Object(Ae.a)(t.i)),p.push.apply(p,Object(Ae.a)(t.j)),f.push.apply(f,Object(Ae.a)(t.k)),b.push.apply(b,Object(Ae.a)(t.facecolor))}));var y=t===n?function(e){return{hoverlabel:{bgcolor:u.biscay,bordercolor:u.jungleMist,font:{color:u.white,size:16}},hovertemplate:e?"   %{customdata.category}   <br />   Booked %{customdata.selectedPercent}%   <br />   Average %{customdata.peerGroupPercent}%   <br />   Difference %{customdata.difference}%   <br /><br /><extra></extra>":"   Room %{customdata.cabinNumber}   <br />   %{customdata.status}   <br />   Max %{customdata.cabinCapacity}   <br />   Booked %{customdata.bookedOccupancy}   <br /><br /><extra></extra>"}}(r):{hoverinfo:"none"},h=t===n?1:.3;return Object(g.a)({x:a,y:i,z:o,i:d,j:p,k:f,opacity:h,facecolor:b,customdata:c},y,{flatshading:!0,type:"mesh3d"})};function rn(){var e=Object(s.a)(["\n  width: 100%;\n  height: 700px;\n"]);return rn=function(){return e},e}var an=l.c.div(rn()),on=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(r.useContext)(k).state,l=o.selectedDeck,u=o.shipData,s=o.peerGroupFilters;return Object(r.useEffect)((function(){var e=Object.keys(u).map((function(e){return nn(u[e],parseInt(e),l,s)}));i(e)}),[l,s,u]),n.length?a.a.createElement(Qt.a,{data:n,layout:en,revision:Math.random(),useResizeHandler:!0,style:{width:"100%",height:"700px"}}):a.a.createElement(an,null)},cn=n(13);function ln(){var e=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  height: 100%;\n  border-radius: 3px;\n  width: ",";\n  background-color: ",";\n"]);return ln=function(){return e},e}function un(){var e=Object(s.a)(["\n  display: flex;\n  position: relative;\n  width: 90%;\n  height: 10px;\n  border-radius: 3px;\n  background-color: ",";\n"]);return un=function(){return e},e}function sn(){var e=Object(s.a)(["\n  font-size: 2em;\n\n  > svg {\n    color: ",";\n    cursor: pointer;\n  }\n"]);return sn=function(){return e},e}function dn(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return dn=function(){return e},e}function pn(){var e=Object(s.a)(["\n  flex: 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n"]);return pn=function(){return e},e}var fn=ce.a.Option,bn=l.c.div(pn()),mn=l.c.div(dn()),yn=Object(l.c)(cn.a)(sn(),(function(e){return e.theme.babyBlue})),hn=l.c.div(un(),(function(e){return e.theme.dusk})),gn=l.c.div(ln(),(function(e){return e.width}),(function(e){return e.theme.babyBlue})),vn=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedShip,o=t.selectedProduct,l=t.selectedItinerary,u=t.selectedSailDate,s=t.selectedBookingWeek,d=t.peerGroupFilters,p=t.selectedPeerShip,f=t.selectedPeerProduct,b=t.selectedPeerSailingDates,m=t.filter,y=t.peerFilter,h=t.filterCount,g=t.shipData,v=Object(C.a)(_,{fetchPolicy:"network-only"}),O=v.loading,j=v.error,E=v.data,S=Object(x.a)(K,{onCompleted:function(e){n({type:"setShipData",value:e.deckVisualList})},fetchPolicy:"network-only"}),I=Object(c.a)(S,1)[0];Object(r.useEffect)((function(){var e=function(e){e.snapshotIntervalList.length&&n({type:"setSelectedBookingWeek",value:e.snapshotIntervalList[e.snapshotIntervalList.length-1].interval})},t=function(e){return a.a.createElement(ze,{type:"error",message:e.message})};(e||t)&&(!e||O||j?t&&!O&&j&&t(j):e(E))}),[O,E,j,n]);var w=function(e){var t=E.snapshotIntervalList,r=t.findIndex((function(e){return e.interval===s}));if("prev"===e&&0!==r){var a=t[r-1].interval;n({type:"setSelectedBookingWeek",value:a}),I({variables:pt(i.id,u.id,a,o.id,l.id,d,p,f.id,b[0],b[1],m,y,h)})}if("next"===e&&r!==t.length-1){var c=t[r+1].interval;n({type:"setSelectedBookingWeek",value:c}),I({variables:pt(i.id,u.id,c,o.id,l.id,d,p,f.id,b[0],b[1],m,y,h)})}};return O?a.a.createElement(Be,null):j?a.a.createElement(ze,{type:"error",message:j.message}):Object.entries(g).length>0&&a.a.createElement(bn,null,a.a.createElement(mn,null,a.a.createElement(yn,{type:"caret-left",onClick:function(){return w("prev")}}),a.a.createElement(ve,{style:{width:250},value:s,onChange:function(e){n({type:"setSelectedBookingWeek",value:e}),I({variables:pt(i.id,u.id,e,o.id,l.id,d,p,f.id,b[0],b[1],m,y,h)})},timeline:!0},E.snapshotIntervalList.map((function(e,t){return a.a.createElement(fn,{value:e.interval,key:"interval"+t},e.intervalLabel+" to departure")}))),a.a.createElement(yn,{type:"caret-right",onClick:function(){return w("next")}})),a.a.createElement(hn,null,a.a.createElement(gn,{width:function(){var e=E.snapshotIntervalList[0].interval;return"".concat(100*(1-s/e),"%")}()})))},kn=n(181),On=n.n(kn),jn="https://s3.amazonaws.com/assets.boostlabs/celebrity/deck-slices/{SHIP_CLASS}/{DECK}.svg",Cn=n(182),xn=n.n(Cn);function En(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: ",";\n  margin: 1em 0em;\n  cursor: pointer;\n\n  span {\n    border-bottom: ",";\n  }\n\n  img {\n    width: 200px;\n  }\n"]);return En=function(){return e},e}function Sn(){var e=Object(s.a)(["\n  display: flex;\n  min-height: 500px;\n  flex-direction: column;\n  flex-flow: column-reverse;\n  padding: 1em 1em;\n  border: 2px solid ",";\n"]);return Sn=function(){return e},e}var In=l.c.div(Sn(),(function(e){return e.theme.biscay})),wn=l.c.div(En(),(function(e){return e.theme.jungleMist}),(function(e){return e.selected?"1px solid ".concat(e.theme.jungleMist):""})),Pn=function(e){var t=e.deck,n=Object(r.useContext)(k).state,i=n.selectedDeck,o=n.selectedShip,l=Object(r.useState)(!1),u=Object(c.a)(l,2),s=u[0],d=u[1];return a.a.createElement("img",{src:s||i===t?jn.replace("{SHIP_CLASS}",o.classId).replace("{DECK}","".concat(t,"_ro")):jn.replace("{SHIP_CLASS}",o.classId).replace("{DECK}",t),onMouseOver:function(){return d(!0)},onMouseOut:function(){return d(!1)},alt:"deck"})},Dn=function(){var e=Object(r.useContext)(k),t=e.state,n=e.dispatch,i=t.selectedDeck,o=t.selectedShip,l=Object(r.useState)([]),u=Object(c.a)(l,2),s=u[0],d=u[1],p=Object(C.a)(q,{variables:{shipId:o.id},onCompleted:function(e){var t=e.deckList;n({type:"setSelectedDeck",value:Math.min.apply(Math,Object(Ae.a)(t))}),d(t)}}),f=p.loading,b=p.error;return f?a.a.createElement(In,null,a.a.createElement(Be,null)):b?a.a.createElement(In,null,a.a.createElement(ze,{type:"error",message:b.message})):a.a.createElement(In,null,s.map((function(e,t){return a.a.createElement(wn,{key:"deck"+t,onClick:function(){n({type:"setSelectedDeck",value:e})},selected:i===e},a.a.createElement("span",null,"D",xn()(e).format("00")),a.a.createElement(Pn,{deck:e}))})))};function $n(){var e=Object(s.a)(["\n  width: 14px;\n  height: 12px;\n  border-radius: 1px;\n  margin-right: 5px;\n  background-color: ",";\n"]);return $n=function(){return e},e}function Gn(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 0.75em;\n  color: ",";\n  min-width: 100px;\n  max-height: 50px;\n  margin-right: 5px;\n\n  > span {\n    max-width: 100px;\n    line-height: 1.2;\n  }\n"]);return Gn=function(){return e},e}function Bn(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex: 1;\n"]);return Bn=function(){return e},e}function Fn(){var e=Object(s.a)(["\n  font-size: 1em;\n  padding-bottom: 3px;\n  color: ",";\n  border-bottom: 1px solid ",";\n  margin-bottom: 5px;\n  padding-bottom: 2px;\n"]);return Fn=function(){return e},e}function zn(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px 0px;\n  justify-content: center;\n"]);return zn=function(){return e},e}var Ln=l.c.div(zn()),Mn=l.c.div(Fn(),(function(e){return e.theme.jungleMist}),(function(e){return e.theme.jungleMist})),An=l.c.div(Bn()),Rn=l.c.div(Gn(),(function(e){return e.theme.jungleMist})),_n=l.c.div($n(),(function(e){return e.theme[e.fill]})),Nn=[{label:"Booked Staterooms",color:"silverTree"},{label:"Under Booked Occupancy",color:"keyLimePie"},{label:"Available Staterooms",color:"mandy"}],Tn=function(){return a.a.createElement(Ln,null,a.a.createElement(Mn,null,"Visualization Legend"),a.a.createElement(An,null,Nn.map((function(e,t){return a.a.createElement(Rn,{key:"color"+t},a.a.createElement(_n,{fill:e.color}),a.a.createElement("span",null,e.label))}))))};function Kn(){var e=Object(s.a)(["\n  width: 315px;\n  margin: 20px 0px;\n"]);return Kn=function(){return e},e}function Un(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return Un=function(){return e},e}var Wn=l.c.div(Un()),qn=l.c.img(Kn()),Vn=function(){var e=Object(r.useContext)(k).state.peerGroupFilters;return a.a.createElement(Wn,null,e?a.a.createElement(qn,{src:On.a}):a.a.createElement(Tn,null),a.a.createElement(Dn,null))};function Xn(){var e=Object(s.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  min-width: 315px;\n"]);return Xn=function(){return e},e}var Yn=l.c.div(Xn()),Hn=function(){var e=Object(r.useContext)(k).state.selectedDeck;return a.a.createElement(Yn,null,Number.isInteger(e)&&a.a.createElement("img",{src:"https://s3.amazonaws.com/assets.boostlabs/celebrity/deck-legends/{DECK}.svg".replace("{DECK}",e),alt:"deck-view"}))},Jn={width:400,height:250,hovermode:"closest",margin:{l:30,r:0,t:50,b:30},title:{text:"Supply Burndown",font:{color:u.white,size:19},x:0,y:1.1},showlegend:!0,legend:{y:1.5,x:1,xanchor:"right",orientation:"v",font:{size:8,color:u.white}},paper_bgcolor:u.black0,plot_bgcolor:u.black0,xaxis:{showgrid:!0,autorange:"reversed",gridcolor:"rgba(255, 255, 255, 0.3)",showticklabels:!1},yaxis:{showgrid:!1,zeroline:!0,layout:{ticks:"outside"},tickfont:{size:8}}},Zn={width:400,height:250,barmode:"stack",hovermode:"closest",margin:{r:0,l:60,t:0,b:30,pad:5},title:{text:"Category Class",font:{color:u.white,size:19},x:0},legend:{y:1.2,x:1,xanchor:"right",orientation:"h",traceorder:"normal",font:{size:8,color:u.white}},paper_bgcolor:u.black0,plot_bgcolor:u.black0,xaxis:{showgrid:!0,gridcolor:"rgba(255, 255, 255, 0.3)",layout:{ticks:"outside"},tickfont:{size:8,color:u.white}},yaxis:{showgrid:!1,zeroline:!0,layout:{ticks:"outside"},tickfont:{size:9,color:u.white}}},Qn={width:400,height:250,barmode:"stack",hovermode:"closest",margin:{r:0,l:60,t:0,b:30,pad:5},title:{text:"Decks",font:{color:u.white,size:19},x:0},legend:{y:1.2,x:1,xanchor:"right",orientation:"h",traceorder:"normal",font:{size:8,color:u.white}},paper_bgcolor:u.black0,plot_bgcolor:u.black0,xaxis:{showgrid:!0,gridcolor:"rgba(255, 255, 255, 0.3)",layout:{ticks:"outside"},tickfont:{size:8,color:u.white}},yaxis:{showgrid:!1,zeroline:!0,layout:{ticks:"outside"},tickfont:{size:9,color:u.white}}},er=n(183),tr=n.n(er);function nr(){var e=Object(s.a)(["\n  width: 400px;\n"]);return nr=function(){return e},e}var rr=l.c.img(nr()),ar=function(){var e=Object(r.useContext)(k).state,t=e.selectedShip,n=e.selectedProduct,i=e.selectedItinerary,o=e.selectedSailDate,l=e.selectedBookingWeek,s=e.peerGroupFilters,d=e.selectedPeerShip,p=e.selectedPeerProduct,f=e.selectedPeerSailingDates,b=e.filter,m=e.peerFilter,y=e.filterCount,h=Object(C.a)(H,{variables:pt(t.id,o.id,l,n.id,i.id,s,d,p.id,f[0],f[1],b,m,y),skip:!t.id||!o.id,fetchPolicy:"network-only"}),g=h.networkStatus,v=h.error,O=h.data,j=Object(r.useState)([]),x=Object(c.a)(j,2),E=x[0],S=x[1];return Object(r.useEffect)((function(){if(O){var e=Object.keys(O.supplyBurndownChart).filter((function(e){return"__typename"!==e})).map((function(e){return function(e,t,n){var r=Object(Ae.a)(e.x),a=Object(Ae.a)(e.y),i="selected"===t?u.aquaForest:"all"===t?u.lochmara:u.babyBlue;return{x:r,y:a,type:"line",mode:"lines+markers",name:"selected"===t?n:"all"===t?"All Ships Avg.":"Peer Avg.",marker:{color:i},hoverinfo:"text",hoverlabel:{bgcolor:i,bordercolor:i,font:{color:u.black,size:14}},hovertemplate:"%{y}%<extra></extra>"}}(O.supplyBurndownChart[e],e,t.shipName)}));S(e)}}),[t,o,O]),t.id&&o.id?2!==g&&7!==g?a.a.createElement(Be,null):v?a.a.createElement(ze,{type:"error",message:v.message}):a.a.createElement(a.a.Fragment,null,a.a.createElement(Qt.a,{data:E,layout:Jn,config:{displayModeBar:!1}})):a.a.createElement(rr,{src:tr.a})},ir=n(184),or=n.n(ir);function cr(){var e=Object(s.a)(["\n  width: 400px;\n"]);return cr=function(){return e},e}var lr=l.c.img(cr()),ur=function(){var e=Object(r.useContext)(k).state,t=e.selectedShip,n=e.selectedSailDate,i=e.selectedBookingWeek,o=Object(C.a)(J,{variables:{shipId:t.id,sailingDateId:n.id,interval:i},skip:!t.id||!n.id||null===i,fetchPolicy:"network-only"}),l=o.networkStatus,s=o.error,d=o.data,p=Object(r.useState)([]),f=Object(c.a)(p,2),b=f[0],m=f[1];return Object(r.useEffect)((function(){if(d){var e=Object.keys(d.cabinCategoryClassChart).filter((function(e){return"__typename"!==e&&"y"!==e})).map((function(e){return function(e,t,n){var r=Object(Ae.a)(e),a=Object(Ae.a)(n),i="bookedX"===t?u.lochmara:u.babyBlue;return{x:r,y:a,type:"bar",width:.5,orientation:"h",name:"bookedX"===t?"Booked":"Available",marker:{color:i},hoverinfo:"text",hoverlabel:{bgcolor:i,bordercolor:i,font:{color:u.black,size:14}},hovertemplate:"%{x}<extra></extra>"}}(d.cabinCategoryClassChart[e],e,d.cabinCategoryClassChart.y)}));m(e)}}),[t,n,i,d]),t.id&&n.id&&null!==i?2!==l&&7!==l?a.a.createElement(Be,null):s?a.a.createElement(ze,{type:"error",message:s.message}):a.a.createElement(a.a.Fragment,null,a.a.createElement(Qt.a,{data:b,layout:Zn,config:{displayModeBar:!1}})):a.a.createElement(lr,{src:or.a})},sr=n(185),dr=n.n(sr);function pr(){var e=Object(s.a)(["\n  width: 400px;\n"]);return pr=function(){return e},e}var fr=l.c.img(pr()),br=function(){var e=Object(r.useContext)(k).state,t=e.selectedShip,n=e.selectedSailDate,i=e.selectedBookingWeek,o=Object(C.a)(Z,{variables:{shipId:t.id,sailingDateId:n.id,interval:i},skip:!t.id||!n.id||null===i,fetchPolicy:"network-only"}),l=o.networkStatus,s=o.error,d=o.data,p=Object(r.useState)([]),f=Object(c.a)(p,2),b=f[0],m=f[1];return Object(r.useEffect)((function(){if(d){var e=Object.keys(d.deckChart).filter((function(e){return"__typename"!==e&&"y"!==e})).map((function(e){return function(e,t,n){var r=Object(Ae.a)(e),a=Object(Ae.a)(n),i="bookedX"===t?u.lochmara:u.babyBlue;return{x:r,y:a,type:"bar",orientation:"h",name:"bookedX"===t?"Booked":"Available",marker:{color:i},hoverinfo:"text",hoverlabel:{bgcolor:i,bordercolor:i,font:{color:u.black,size:14}},hovertemplate:"%{x}%<extra></extra>"}}(d.deckChart[e],e,d.deckChart.y)}));m(e)}}),[t,n,i,d,l]),t.id&&n.id&&null!==i?2!==l&&7!==l?a.a.createElement(Be,null):s?a.a.createElement(ze,{type:"error",message:s.message}):a.a.createElement(a.a.Fragment,null,a.a.createElement(Qt.a,{data:b,layout:Qn,config:{displayModeBar:!1}})):a.a.createElement(fr,{src:dr.a})};function mr(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1em 2em;\n  padding-top: 0;\n  background-color: ",";\n  min-width: 450px;\n\n  > div {\n    margin-bottom: 2.5%;\n  }\n"]);return mr=function(){return e},e}var yr=l.c.div(mr(),(function(e){return e.theme.black50})),hr=function(){return a.a.createElement(yr,null,a.a.createElement(ar,null),a.a.createElement(ur,null),a.a.createElement(br,null))};function gr(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding-right: 2em;\n"]);return gr=function(){return e},e}function vr(){var e=Object(s.a)(["\n  display: flex;\n"]);return vr=function(){return e},e}function kr(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return kr=function(){return e},e}var Or=l.c.div(kr()),jr=l.c.div(vr()),Cr=l.c.div(gr()),xr=function(){var e=Object(r.useContext)(k).dispatch,t=Object(C.a)(U).data,n=Object(x.a)(K,{onCompleted:function(t){e({type:"setShipData",value:t.deckVisualList})},fetchPolicy:"network-only"}),i=Object(c.a)(n,1)[0];return Object(r.useEffect)((function(){t&&(e({type:"setSelectedShip",value:t.firstSailDate.ship}),e({type:"setSelectedSailDate",value:t.firstSailDate.sailingDate}),i({variables:pt(t.firstSailDate.ship.id,t.firstSailDate.sailingDate.id,t.firstSailDate.interval)}))}),[t,e,i]),a.a.createElement(Or,null,a.a.createElement(ie,null),a.a.createElement(Kt,null),a.a.createElement(jr,null,a.a.createElement(hr,null),a.a.createElement(Cr,null,a.a.createElement(Jt,null),a.a.createElement(jr,null,a.a.createElement(on,null),a.a.createElement(Vn,null)),a.a.createElement(jr,{style:{padding:"2em 0em"}},a.a.createElement(vn,null),a.a.createElement(Hn,null)))))},Er=n(369),Sr=n(374),Ir=n(45);function wr(){var e=Object(s.a)(["\n  text-align: center;\n  margin-top: 100px;\n"]);return wr=function(){return e},e}var Pr=l.c.div(wr()),Dr=Er.a.create({name:"horizontal_login"})((function(e){var t,n=e.form,r=e.setPassword,i=n.getFieldDecorator,o=n.getFieldsError,c=n.getFieldError,l=(0,n.isFieldTouched)("password")&&c("password");return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie,null),a.a.createElement(Pr,null,a.a.createElement(Er.a,{layout:"inline",onSubmit:function(e){return function(e){e.preventDefault(),n.validateFields((function(e,t){e||r(t.password)}))}(e)}},a.a.createElement(Er.a.Item,{validateStatus:l?"error":"",help:l||""},i("password",{rules:[{required:!0,message:"Please input your Password!"}]})(a.a.createElement(Sr.a,{prefix:a.a.createElement(cn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),a.a.createElement(Er.a.Item,null,a.a.createElement(Ir.a,{type:"primary",htmlType:"submit",disabled:(t=o(),Object.keys(t).some((function(e){return t[e]})))},"Log in")))))}));m.b.add(y.a,y.c,y.b);var $r=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],o="Celebrity2020"===n;return a.a.createElement(l.a,{theme:u},a.a.createElement(j,null,a.a.createElement(b,null),o?a.a.createElement(xr,null):a.a.createElement(Dr,{setPassword:i})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gr=n(193),Br=n(53),Fr=n(371),zr=n(372),Lr=n(366),Mr=n(367),Ar=new Gr.a({uri:"https://zarlfah6m2.execute-api.us-east-2.amazonaws.com/prod/graphql"}),Rr=new Br.a((function(e,t){return e.setContext({headers:{sessiontoken:"B:0adKs+h>xVibRWjtzw0IS!VxJN-^tkk#~rLz2TDl-g<5|7,OVZ4xO%?h^}@n\xa7D"}}),t(e)})),_r=new Fr.a({cache:new zr.a,link:Object(Lr.a)(Rr,Ar)});o.a.render(a.a.createElement(Mr.a,{client:_r},a.a.createElement($r,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.61dab7da.chunk.js.map